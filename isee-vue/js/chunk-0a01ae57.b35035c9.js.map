{"version":3,"sources":["webpack:///./node_modules/echarts/lib/component/gridSimple.js","webpack:///./node_modules/echarts/lib/chart/helper/Symbol.js","webpack:///./node_modules/echarts/lib/chart/scatter.js","webpack:///./node_modules/echarts/lib/component/marker/MarkLineModel.js","webpack:///./node_modules/echarts/lib/component/marker/MarkerModel.js","webpack:///./node_modules/echarts/lib/component/marker/MarkLineView.js","webpack:///./node_modules/echarts/lib/component/marker/MarkAreaModel.js","webpack:///./node_modules/echarts/lib/coord/cartesian/AxisModel.js","webpack:///./node_modules/echarts/lib/coord/cartesian/Grid.js","webpack:///./node_modules/echarts/lib/coord/axisDefault.js","webpack:///./node_modules/echarts/lib/chart/helper/LineDraw.js","webpack:///./node_modules/echarts/lib/component/markArea.js","webpack:///./node_modules/echarts/lib/chart/helper/Line.js","webpack:///./node_modules/echarts/lib/chart/helper/LinePath.js","webpack:///./node_modules/echarts/lib/visual/symbol.js","webpack:///./node_modules/echarts/lib/layout/points.js","webpack:///./node_modules/echarts/lib/component/marker/MarkerView.js","webpack:///./node_modules/echarts/lib/component/marker/MarkAreaView.js","webpack:///./node_modules/echarts/lib/coord/cartesian/GridModel.js","webpack:///./node_modules/echarts/lib/component/marker/markerHelper.js","webpack:///./node_modules/echarts/lib/component/markLine.js","webpack:///./node_modules/echarts/lib/coord/axisModelCreator.js","webpack:///./node_modules/echarts/lib/chart/scatter/ScatterView.js","webpack:///./node_modules/echarts/lib/component/axis.js","webpack:///./node_modules/echarts/lib/chart/helper/labelHelper.js","webpack:///./node_modules/echarts/lib/chart/helper/LargeSymbolDraw.js","webpack:///./node_modules/echarts/lib/chart/scatter/ScatterSeries.js","webpack:///./node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","webpack:///./node_modules/echarts/lib/coord/cartesian/Cartesian.js","webpack:///./node_modules/echarts/lib/coord/cartesian/Axis2D.js","webpack:///./node_modules/echarts/lib/component/axis/CartesianAxisView.js","webpack:///./node_modules/echarts/lib/chart/helper/SymbolDraw.js"],"names":["echarts","zrUtil","graphic","extendComponentView","type","render","gridModel","ecModel","this","group","removeAll","get","add","Rect","shape","coordinateSystem","getRect","style","defaults","fill","getItemStyle","silent","z2","registerPreprocessor","option","xAxis","yAxis","grid","_symbol","createSymbol","_number","parsePercent","_labelHelper","getDefaultLabel","SymbolClz","data","idx","seriesScope","Group","call","updateData","symbolProto","prototype","getSymbolSize","symbolSize","getItemVisual","Array","slice","getScale","driftSymbol","dx","dy","parent","drift","_createSymbol","symbolType","keepAspect","color","symbolPath","attr","culling","scale","_symbolType","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolPath","highlight","trigger","downplay","setZ","zlevel","z","setDraggable","draggable","cursor","seriesModel","hostModel","isInit","updateProps","_updateCommon","fadeIn","target","opacity","initProps","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","highDownOnUpdate","fromState","toState","incremental","useHoverLayer","__symbolOriginalScale","ratio","emphasisOpt","Math","max","animateTo","useStyle","strokeNoScale","itemStyle","hoverItemStyle","symbolRotate","symbolOffset","labelModel","hoverLabelModel","hoverAnimation","cursorStyle","hasItemOption","itemModel","getItemModel","getModel","getShallow","extend","elStyle","PI","setColor","symbolInnerColor","setStyle","liftZ","z2Origin","__z2Origin","useNameLabel","getLabelDefaultText","opt","getName","setLabelStyle","labelFetcher","labelDataIndex","defaultText","isRectText","autoColor","hoverStyle","isAnimationEnabled","setHoverStyle","fadeOut","cb","keepLabel","text","dataIndex","inherits","_default","module","exports","visualSymbol","layoutPoints","registerVisual","registerLayout","MarkerModel","defaultOption","symbol","precision","tooltip","label","show","position","lineStyle","emphasis","width","animationEasing","_config","__DEV__","env","modelUtil","formatUtil","dataFormatMixin","addCommas","encodeHTML","fillLabel","defaultEmphasis","extendComponentModel","dependencies","init","parentModel","mergeDefaultAndTheme","_mergeOption","node","hostSeries","__hostSeries","mergeOption","newOpt","createdBySelf","constructor","modelPropName","mainType","eachSeries","markerOpt","markerModel","each","item","seriesIndex","name","formatTooltip","getData","value","getRawValue","formattedValue","isArray","map","join","html","_data","setData","mixin","List","numberUtil","markerHelper","LineDraw","MarkerView","_dataStackHelper","getStackedDimension","markLineTransform","coordSys","mlModel","mlType","valueAxis","getAxis","retrieve","axisInfo","getAxisInfo","valueDataDim","numCalculate","valueIndex","dim","baseIndex","mlFrom","clone","mlTo","coord","Infinity","toFixed","min","dataTransform","merge","isInifinity","val","isNaN","isFinite","ifMarkLineHasOnlyDim","dimIndex","fromCoord","toCoord","otherDimIndex","dimName","dimensions","containData","markLineFilter","dataFilter","updateSingleMarkerEndLayout","isFrom","api","point","xPx","getWidth","yPx","getHeight","getMarkerPosition","getValues","dims","x","y","dataToPoint","toGlobalCoord","getExtent","setItemLayout","updateTransform","markLineModel","mlData","fromData","__from","toData","__to","getItemLayout","markerGroupMap","id","updateLayout","renderSeries","seriesId","seriesData","lineDrawMap","lineDraw","set","createList","from","to","lineData","line","updateDataVisualAndLayout","setItemVisual","getVisual","lineColor","eachItemGraphicEl","el","traverse","child","dataModel","__keep","coordDimsInfos","coordDim","info","getDimensionInfo","mapDimension","optData","curry","filter","dimValueGetter","initData","animation","borderWidth","ComponentModel","axisModelCreator","axisModelCommonMixin","AxisModel","axis","superApply","arguments","resetRange","restoreData","getCoordSysModel","queryComponents","index","gridIndex","gridId","getAxisType","axisDim","extraOption","offset","_util","isObject","indexOf","_layout","getLayoutRect","_axisHelper","createScaleByModel","ifAxisCrossZero","niceScaleExtent","estimateLabelUnionRect","Cartesian2D","Axis2D","CoordinateSystem","isAxisUsedInTheGrid","axisModel","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","model","gridProto","fixAxisOnZero","axesMap","otherAxisDim","onZeroRecords","getAxesOnZeroOf","otherAxisOnZeroOf","otherAxes","onZero","onZeroAxisIndex","canOnZeroToAxis","hasOwnProperty","getOnZeroRecordKey","updateAxisTransform","coordBase","axisExtent","axisExtentSum","toLocalCoord","axisPointerEnabled","_rect","update","_updateScale","resize","ignoreContainLabel","gridRect","getBoxLayoutParams","height","axesList","adjustAxes","isHorizontal","extent","inverse","setExtent","labelUnionRect","margin","axisType","axisIndex","axesMapOnDim","getAxes","getCartesian","xAxisIndex","yAxisIndex","key","i","coordList","length","getCartesians","convertToPixel","finder","_findConvertTarget","cartesian","dataToCoord","convertFromPixel","pointToData","coordToData","xAxisModel","getReferringComponents","yAxisModel","coordsList","componentIndex","containPoint","axisPositionUsed","left","right","top","bottom","axesCount","eachComponent","createAxisCreator","axisPosition","isCategory","onBand","push","addAxis","unionExtent","unionExtentFromData","isCartesian2D","axesModels","findAxesModels","getTooltipAxes","baseAxes","baseAxis","getBaseAxis","otherAxis","getOtherAxis","axesTypes","create","grids","register","nameLocation","nameRotate","nameTruncate","maxWidth","ellipsis","placeholder","nameTextStyle","nameGap","triggerEvent","axisPointer","axisLine","axisTick","inside","axisLabel","rotate","showMinLabel","showMaxLabel","fontSize","splitLine","splitArea","areaStyle","axisDefault","categoryAxis","boundaryGap","deduplication","alignWithLabel","interval","splitNumber","timeAxis","logAxis","logBase","LineGroup","ctor","_ctor","lineDrawProto","doAdd","itemLayout","lineNeedsDraw","setItemGraphicEl","doUpdate","oldLineData","newLineData","oldIdx","newIdx","itemEl","getItemGraphicEl","remove","makeSeriesScope","getLineStyle","hoverLineStyle","isPointNaN","pt","pts","isPersistent","_lineData","diff","execute","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isGroup","start","end","_clearIncremental","_incremental","clearDisplaybles","markArea","vector","symbolUtil","LinePath","round","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","createLine","points","subPixelOptimize","setLinePoints","targetShape","x1","y1","x2","y2","percent","cp1","cpx1","cpy1","NaN","updateSymbolAndLabelBeforeLineUpdate","lineGroup","symbolFrom","childOfName","symbolTo","ignore","invScale","parentNode","__dirty","fromPos","pointAt","toPos","d","sub","normalize","tangent","tangentAt","atan2","textPosition","textAlign","textVerticalAlign","distance","__position","halfPercent","n","cp","rotation","__verticalAlign","__textAlign","Line","_createLine","lineProto","beforeUpdate","linePoints","Text","lineLabelOriginalOpacity","_updateCommonStl","visualColor","visualOpacity","retrieve3","stroke","defaultLabelColor","baseText","showLabel","hoverShowLabel","getFormattedLabel","dataType","rawVal","normalText","emphasisText","retrieve2","labelStyle","setTextStyle","textFill","getTextColor","fontStyle","fontWeight","fontFamily","linePath","dirty","vec2","straightLineProto","bezierCurveProto","BezierCurve","isLine","extendShape","buildPath","ctx","_buildPathLine","_buildPathCurve","t","_pointAtLine","_pointAtCurve","p","_tangentAtCurve","isFunction","seriesType","defaultSymbolType","legendSymbol","performRawSeries","reset","hasSymbolTypeCallback","hasSymbolSizeCallback","hasCallback","seriesSymbol","seriesSymbolSize","setVisual","symbolKeepAspect","isSeriesFiltered","dataEach","rawValue","params","getDataParams","itemSymbolType","itemSymbolSize","itemSymbolKeepAspect","createRenderPlanner","isDimensionStacked","plan","pipelineContext","isLargeRender","large","dimLen","stackResultDim","getCalculationInfo","progress","segCount","Float32Array","tmpIn","tmpOut","setLayout","createHashMap","markerModelKey","colorUtil","markAreaTransform","maModel","lt","rb","ltCoord","rbCoord","result","mergeAll","x0","y0","markAreaFilter","getSingleMarkerEndPoint","clampData","dimPermutations","areaData","floor","markAreaModel","setShape","areaGroupMap","polygonGroup","__data","polygon","Polygon","labelHoverModel","modifyAlpha","layoutMode","containLabel","backgroundColor","borderColor","hasXOrY","parseFloat","hasXAndY","markerTypeCalculatorWithExtent","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","stacked","calcDataDim","indicesOfNearest","getPrecision","markerTypeCalculator","average","baseDataDim","radiusAxis","angleAxis","ret","valueDim","getDimension","dataDimToCoordDim","dataDim","dimItem","sum","count","getMedian","getDataExtent","markLine","getLayoutParams","mergeLayoutParam","OrdinalMeta","AXIS_TYPES","axisName","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","inputPositionParams","themeModel","getTheme","getDefaultOption","optionUpdated","thisOption","__ordinalMeta","createByAxisModel","getCategories","rawData","categories","getOrdinalMeta","registerSubTypeDefaulter","SymbolDraw","LargeSymbolDraw","pointsLayout","extendChartView","symbolDraw","_updateSymbolDraw","clipShape","_getClipShape","_finished","incrementalPrepareRender","incrementalRender","_symbolDraw","res","clipArea","getArea","isLargeDraw","_isLargeDraw","dispose","_dataProvider","retrieveRawValue","labelDims","len","vals","IncrementalDisplayable","BOOST_SIZE_THRESHOLD","LargeSymbolPath","symbolProxy","softClipShape","path","size","symbolProxyShape","getContext","canBoost","contain","afterBrush","setTransform","fillRect","restoreTransform","findDataIndex","w","h","largeSymbolProto","symbolEl","rectHover","getLayout","_setCommon","eachChild","startIndex","endIndex","byteOffset","buffer","addDisplayable","isIncremental","extrudeShadow","on","e","offsetX","offsetY","createListFromArray","SeriesModel","getInitialData","getSource","brushSelector","getProgressive","progressive","getProgressiveThreshold","progressiveThreshold","legendHoverLink","largeThreshold","clip","BoundingRect","Cartesian","getAxesByScale","axisX","axisY","reserved","out","xScale","yScale","xAxisExtent","yAxisExtent","parse","xExtent","getGlobalExtent","yExtent","rect","dimAxisMapper","_axes","_dimList","scaleType","toLowerCase","_dataCoordConvert","input","method","dimList","output","Axis","coordExtent","asc","reverse","clamp","AxisBuilder","AxisView","cartesianAxisHelper","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","axisPointerClass","payload","oldAxisGroup","_axisGroup","layout","axisBuilder","getGroup","groupTransition","superCall","_splitAreaColors","_splitLine","isBlank","splitLineModel","lineStyleModel","lineColors","lineCount","ticksCoords","getTicksCoords","tickModel","p1","p2","tickCoord","colorIndex","tickValue","anid","_splitArea","splitAreaModel","areaStyleModel","areaColors","areaColorsLen","lastSplitAreaColors","newSplitAreaColors","cIndex","prev","getAreaStyle","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","isIgnore","normalizeUpdateOpt","oldData","SymbolCtor","enableAnimation"],"mappings":"qGAoBA,IAAIA,EAAU,EAAQ,QAElBC,EAAS,EAAQ,QAEjBC,EAAU,EAAQ,QAEtB,EAAQ,QAER,EAAQ,QAqBRF,EAAQG,oBAAoB,CAC1BC,KAAM,OACNC,OAAQ,SAAUC,EAAWC,GAC3BC,KAAKC,MAAMC,YAEPJ,EAAUK,IAAI,SAChBH,KAAKC,MAAMG,IAAI,IAAIV,EAAQW,KAAK,CAC9BC,MAAOR,EAAUS,iBAAiBC,UAClCC,MAAOhB,EAAOiB,SAAS,CACrBC,KAAMb,EAAUK,IAAI,oBACnBL,EAAUc,gBACbC,QAAQ,EACRC,IAAK,QAKbtB,EAAQuB,sBAAqB,SAAUC,GAEjCA,EAAOC,OAASD,EAAOE,QAAUF,EAAOG,OAC1CH,EAAOG,KAAO,Q,qBCjDlB,IAAI1B,EAAS,EAAQ,QAEjB2B,EAAU,EAAQ,QAElBC,EAAeD,EAAQC,aAEvB3B,EAAU,EAAQ,QAElB4B,EAAU,EAAQ,QAElBC,EAAeD,EAAQC,aAEvBC,EAAe,EAAQ,QAEvBC,EAAkBD,EAAaC,gBAgCnC,SAASC,EAAUC,EAAMC,EAAKC,GAC5BnC,EAAQoC,MAAMC,KAAK/B,MACnBA,KAAKgC,WAAWL,EAAMC,EAAKC,GAG7B,IAAII,EAAcP,EAAUQ,UASxBC,EAAgBT,EAAUS,cAAgB,SAAUR,EAAMC,GAC5D,IAAIQ,EAAaT,EAAKU,cAAcT,EAAK,cACzC,OAAOQ,aAAsBE,MAAQF,EAAWG,QAAU,EAAEH,GAAaA,IAG3E,SAASI,EAASJ,GAChB,MAAO,CAACA,EAAW,GAAK,EAAGA,EAAW,GAAK,GAG7C,SAASK,EAAYC,EAAIC,GACvB3C,KAAK4C,OAAOC,MAAMH,EAAIC,GAGxBV,EAAYa,cAAgB,SAAUC,EAAYpB,EAAMC,EAAKQ,EAAYY,GAEvEhD,KAAKE,YACL,IAAI+C,EAAQtB,EAAKU,cAAcT,EAAK,SAOhCsB,EAAa7B,EAAa0B,GAAa,GAAI,EAAG,EAAG,EAAGE,EAAOD,GAC/DE,EAAWC,KAAK,CACdrC,GAAI,IACJsC,SAAS,EACTC,MAAOb,EAASJ,KAGlBc,EAAWL,MAAQJ,EACnBzC,KAAKsD,YAAcP,EACnB/C,KAAKI,IAAI8C,IAQXjB,EAAYsB,oBAAsB,SAAUC,GAC1CxD,KAAKyD,QAAQ,GAAGC,cAAcF,IAahCvB,EAAY0B,cAAgB,WAC1B,OAAO3D,KAAKyD,QAAQ,IAQtBxB,EAAYO,SAAW,WACrB,OAAOxC,KAAKyD,QAAQ,GAAGJ,OAOzBpB,EAAY2B,UAAY,WACtB5D,KAAKyD,QAAQ,GAAGI,QAAQ,aAO1B5B,EAAY6B,SAAW,WACrB9D,KAAKyD,QAAQ,GAAGI,QAAQ,WAQ1B5B,EAAY8B,KAAO,SAAUC,EAAQC,GACnC,IAAIf,EAAalD,KAAKyD,QAAQ,GAC9BP,EAAWc,OAASA,EACpBd,EAAWe,EAAIA,GAGjBhC,EAAYiC,aAAe,SAAUC,GACnC,IAAIjB,EAAalD,KAAKyD,QAAQ,GAC9BP,EAAWiB,UAAYA,EACvBjB,EAAWkB,OAASD,EAAY,OAASjB,EAAWkB,QAqBtDnC,EAAYD,WAAa,SAAUL,EAAMC,EAAKC,GAC5C7B,KAAKa,QAAS,EACd,IAAIkC,EAAapB,EAAKU,cAAcT,EAAK,WAAa,SAClDyC,EAAc1C,EAAK2C,UACnBlC,EAAaD,EAAcR,EAAMC,GACjC2C,EAASxB,IAAe/C,KAAKsD,YAEjC,GAAIiB,EAAQ,CACV,IAAIvB,EAAarB,EAAKU,cAAcT,EAAK,oBAEzC5B,KAAK8C,cAAcC,EAAYpB,EAAMC,EAAKQ,EAAYY,OACjD,CACL,IAAIE,EAAalD,KAAKyD,QAAQ,GAC9BP,EAAWrC,QAAS,EACpBnB,EAAQ8E,YAAYtB,EAAY,CAC9BG,MAAOb,EAASJ,IACfiC,EAAazC,GAKlB,GAFA5B,KAAKyE,cAAc9C,EAAMC,EAAKQ,EAAYP,GAEtC0C,EAAQ,CACNrB,EAAalD,KAAKyD,QAAQ,GAA9B,IACIiB,EAAS7C,GAAeA,EAAY6C,OACpCC,EAAS,CACXtB,MAAOH,EAAWG,MAAMd,SAE1BmC,IAAWC,EAAOlE,MAAQ,CACxBmE,QAAS1B,EAAWzC,MAAMmE,UAE5B1B,EAAWG,MAAQ,CAAC,EAAG,GACvBqB,IAAWxB,EAAWzC,MAAMmE,QAAU,GACtClF,EAAQmF,UAAU3B,EAAYyB,EAAQN,EAAazC,GAGrD5B,KAAK8E,aAAeT,GAItB,IAAIU,EAAwB,CAAC,aACzBC,EAA0B,CAAC,WAAY,aACvCC,EAAwB,CAAC,SACzBC,EAA0B,CAAC,WAAY,SA6F3C,SAASC,EAAiBC,EAAWC,GAGnC,IAAIrF,KAAKsF,cAAetF,KAAKuF,cAI7B,GAAgB,aAAZF,EAAwB,CAC1B,IAAIhC,EAAQrD,KAAKwF,sBACbC,EAAQpC,EAAM,GAAKA,EAAM,GACzBqC,EAAc,CAChBrC,MAAO,CAACsC,KAAKC,IAAe,IAAXvC,EAAM,GAAUA,EAAM,GAAK,GAAIsC,KAAKC,IAAe,IAAXvC,EAAM,GAAUA,EAAM,GAAK,EAAIoC,KAM1FzF,KAAK6F,UAAUH,EAAa,IAAK,kBACZ,WAAZL,GACTrF,KAAK6F,UAAU,CACbxC,MAAOrD,KAAKwF,uBACX,IAAK,cA1GZvD,EAAYwC,cAAgB,SAAU9C,EAAMC,EAAKQ,EAAYP,GAC3D,IAAIqB,EAAalD,KAAKyD,QAAQ,GAC1BY,EAAc1C,EAAK2C,UACnBrB,EAAQtB,EAAKU,cAAcT,EAAK,SAEZ,UAApBsB,EAAWtD,MACbsD,EAAW4C,SAAS,CAClBC,eAAe,IAInB,IAAIC,EAAYnE,GAAeA,EAAYmE,UACvCC,EAAiBpE,GAAeA,EAAYoE,eAC5CC,EAAerE,GAAeA,EAAYqE,aAC1CC,EAAetE,GAAeA,EAAYsE,aAC1CC,EAAavE,GAAeA,EAAYuE,WACxCC,EAAkBxE,GAAeA,EAAYwE,gBAC7CC,EAAiBzE,GAAeA,EAAYyE,eAC5CC,EAAc1E,GAAeA,EAAY0E,YAE7C,IAAK1E,GAAeF,EAAK6E,cAAe,CACtC,IAAIC,EAAY5E,GAAeA,EAAY4E,UAAY5E,EAAY4E,UAAY9E,EAAK+E,aAAa9E,GAGjGoE,EAAYS,EAAUE,SAAS5B,GAAuBnE,aAAa,CAAC,UACpEqF,EAAiBQ,EAAUE,SAAS3B,GAAyBpE,eAC7DsF,EAAeO,EAAUG,WAAW,gBACpCT,EAAeM,EAAUG,WAAW,gBACpCR,EAAaK,EAAUE,SAAS1B,GAChCoB,EAAkBI,EAAUE,SAASzB,GACrCoB,EAAiBG,EAAUG,WAAW,kBACtCL,EAAcE,EAAUG,WAAW,eAEnCX,EAAiBxG,EAAOoH,OAAO,GAAIZ,GAGrC,IAAIa,EAAU5D,EAAWzC,MACzByC,EAAWC,KAAK,YAAa+C,GAAgB,GAAKP,KAAKoB,GAAK,KAAO,GAE/DZ,GACFjD,EAAWC,KAAK,WAAY,CAAC5B,EAAa4E,EAAa,GAAI/D,EAAW,IAAKb,EAAa4E,EAAa,GAAI/D,EAAW,MAGtHmE,GAAerD,EAAWC,KAAK,SAAUoD,GAEzCrD,EAAW8D,SAAS/D,EAAOpB,GAAeA,EAAYoF,kBACtD/D,EAAWgE,SAASlB,GACpB,IAAIpB,EAAUjD,EAAKU,cAAcT,EAAK,WAEvB,MAAXgD,IACFkC,EAAQlC,QAAUA,GAGpB,IAAIuC,EAAQxF,EAAKU,cAAcT,EAAK,SAChCwF,EAAWlE,EAAWmE,WAEb,MAATF,EACc,MAAZC,IACFlE,EAAWmE,WAAanE,EAAWpC,GACnCoC,EAAWpC,IAAMqG,GAEE,MAAZC,IACTlE,EAAWpC,GAAKsG,EAChBlE,EAAWmE,WAAa,MAG1B,IAAIC,EAAezF,GAAeA,EAAYyF,aAS9C,SAASC,EAAoB3F,EAAK4F,GAChC,OAAOF,EAAe3F,EAAK8F,QAAQ7F,GAAOH,EAAgBE,EAAMC,GATlElC,EAAQgI,cAAcZ,EAASb,EAAgBG,EAAYC,EAAiB,CAC1EsB,aAActD,EACduD,eAAgBhG,EAChBiG,YAAaN,EACbO,YAAY,EACZC,UAAW9E,IAObC,EAAWsC,sBAAwBhD,EAASJ,GAC5Cc,EAAW8E,WAAa/B,EACxB/C,EAAWiC,iBAAmBmB,GAAkBjC,EAAY4D,qBAAuB9C,EAAmB,KACtGzF,EAAQwI,cAAchF,IAkCxBjB,EAAYkG,QAAU,SAAUC,EAAIZ,GAClC,IAAItE,EAAalD,KAAKyD,QAAQ,GAE9BzD,KAAKa,OAASqC,EAAWrC,QAAS,IAEhC2G,IAAOA,EAAIa,aAAenF,EAAWzC,MAAM6H,KAAO,MACpD5I,EAAQ8E,YAAYtB,EAAY,CAC9BzC,MAAO,CACLmE,QAAS,GAEXvB,MAAO,CAAC,EAAG,IACVrD,KAAK8E,aAAc9E,KAAKuI,UAAWH,IAGxC3I,EAAO+I,SAAS9G,EAAWhC,EAAQoC,OACnC,IAAI2G,EAAW/G,EACfgH,EAAOC,QAAUF,G,uBCxWjB,IAAIjJ,EAAU,EAAQ,QAEtB,EAAQ,QAER,EAAQ,QAER,IAAIoJ,EAAe,EAAQ,QAEvBC,EAAe,EAAQ,QAE3B,EAAQ,QAsBRrJ,EAAQsJ,eAAeF,EAAa,UAAW,WAC/CpJ,EAAQuJ,eAAeF,EAAa,a,qBCjCpC,IAAIG,EAAc,EAAQ,QAoBtBP,EAAWO,EAAYnC,OAAO,CAChCjH,KAAM,WACNqJ,cAAe,CACbjF,OAAQ,EACRC,EAAG,EACHiF,OAAQ,CAAC,SAAU,SACnB9G,WAAY,CAAC,EAAG,IAEhB+G,UAAW,EACXC,QAAS,CACPvF,QAAS,QAEXwF,MAAO,CACLC,MAAM,EACNC,SAAU,OAEZC,UAAW,CACT5J,KAAM,UAER6J,SAAU,CACRJ,MAAO,CACLC,MAAM,GAERE,UAAW,CACTE,MAAO,IAGXC,gBAAiB,YAIrBjB,EAAOC,QAAUF,G,qBCnDjB,IAAImB,EAAU,EAAQ,QAIlBpK,GAFUoK,EAAQC,QAER,EAAQ,SAElBpK,EAAS,EAAQ,QAEjBqK,EAAM,EAAQ,QAEdC,EAAY,EAAQ,QAEpBC,EAAa,EAAQ,QAErBC,EAAkB,EAAQ,QAoB1BC,EAAYF,EAAWE,UACvBC,EAAaH,EAAWG,WAE5B,SAASC,EAAU5C,GACjBuC,EAAUM,gBAAgB7C,EAAK,QAAS,CAAC,SAG3C,IAAIwB,EAAcxJ,EAAQ8K,qBAAqB,CAC7C1K,KAAM,SACN2K,aAAc,CAAC,SAAU,OAAQ,QAAS,OAK1CC,KAAM,SAAUxJ,EAAQyJ,EAAa1K,GACnCC,KAAK0K,qBAAqB1J,EAAQjB,GAElCC,KAAK2K,aAAa3J,EAAQjB,GAAS,GAAO,IAM5CkI,mBAAoB,WAClB,GAAI6B,EAAIc,KACN,OAAO,EAGT,IAAIC,EAAa7K,KAAK8K,aACtB,OAAO9K,KAAK4G,WAAW,cAAgBiE,GAAcA,EAAW5C,sBAMlE8C,YAAa,SAAUC,EAAQjL,GAC7BC,KAAK2K,aAAaK,EAAQjL,GAAS,GAAO,IAE5C4K,aAAc,SAAUK,EAAQjL,EAASkL,EAAe1G,GACtD,IAAIyE,EAAchJ,KAAKkL,YACnBC,EAAgBnL,KAAKoL,SAAW,QAE/BH,GACHlL,EAAQsL,YAAW,SAAUhH,GAC3B,IAAIiH,EAAYjH,EAAYlE,IAAIH,KAAKoL,UAAU,GAC3CG,EAAclH,EAAY8G,GAEzBG,GAAcA,EAAU3J,MAKxB4J,EAyBHA,EAAYZ,aAAaW,EAAWvL,GAAS,IAxBzCwE,GAEF6F,EAAUkB,GAGZ7L,EAAO+L,KAAKF,EAAU3J,MAAM,SAAU8J,GAEhCA,aAAgBnJ,OAClB8H,EAAUqB,EAAK,IACfrB,EAAUqB,EAAK,KAEfrB,EAAUqB,MAGdF,EAAc,IAAIvC,EAAYsC,EAAWtL,KAAMD,GAC/CN,EAAOoH,OAAO0E,EAAa,CACzBH,SAAUpL,KAAKoL,SAEfM,YAAarH,EAAYqH,YACzBC,KAAMtH,EAAYsH,KAClBV,eAAe,IAEjBM,EAAYT,aAAezG,GAK7BA,EAAY8G,GAAiBI,GAhC3BlH,EAAY8G,GAAiB,OAiC9BnL,OAGP4L,cAAe,SAAUrD,GACvB,IAAI5G,EAAO3B,KAAK6L,UACZC,EAAQ9L,KAAK+L,YAAYxD,GACzByD,EAAiBvM,EAAOwM,QAAQH,GAASrM,EAAOyM,IAAIJ,EAAO5B,GAAWiC,KAAK,MAAQjC,EAAU4B,GAC7FH,EAAOhK,EAAK8F,QAAQc,GACpB6D,EAAOjC,EAAWnK,KAAK2L,MAkB3B,OAhBa,MAATG,GAAiBH,KACnBS,GAAQ,UAGNT,IACFS,GAAQjC,EAAWwB,GAEN,MAATG,IACFM,GAAQ,QAIC,MAATN,IACFM,GAAQjC,EAAW6B,IAGdI,GAETP,QAAS,WACP,OAAO7L,KAAKqM,OAEdC,QAAS,SAAU3K,GACjB3B,KAAKqM,MAAQ1K,KAGjBlC,EAAO8M,MAAMvD,EAAaiB,GAC1B,IAAIxB,EAAWO,EACfN,EAAOC,QAAUF,G,uBCxJjB,IAAIhJ,EAAS,EAAQ,QAEjB+M,EAAO,EAAQ,QAEfC,EAAa,EAAQ,QAErBC,EAAe,EAAQ,QAEvBC,EAAW,EAAQ,QAEnBC,EAAa,EAAQ,QAErBC,EAAmB,EAAQ,QAE3BC,EAAsBD,EAAiBC,oBAoBvCC,EAAoB,SAAU1I,EAAa2I,EAAUC,EAASxB,GAChE,IAAI9J,EAAO0C,EAAYwH,UAEnBqB,EAASzB,EAAK7L,KAElB,IAAKH,EAAOwM,QAAQR,KAAqB,QAAXyB,GAA+B,QAAXA,GAA+B,YAAXA,GAAmC,WAAXA,GAI7E,MAAdzB,EAAKxK,OAA+B,MAAdwK,EAAKvK,OAAgB,CAC5C,IAAIiM,EACArB,EAEJ,GAAkB,MAAdL,EAAKvK,OAA+B,MAAduK,EAAKxK,MAC7BkM,EAAYH,EAASI,QAAsB,MAAd3B,EAAKvK,MAAgB,IAAM,KACxD4K,EAAQrM,EAAO4N,SAAS5B,EAAKvK,MAAOuK,EAAKxK,WACpC,CACL,IAAIqM,EAAWZ,EAAaa,YAAY9B,EAAM9J,EAAMqL,EAAU3I,GAC9D8I,EAAYG,EAASH,UACrB,IAAIK,EAAeV,EAAoBnL,EAAM2L,EAASE,cACtD1B,EAAQY,EAAae,aAAa9L,EAAM6L,EAAcN,GAGxD,IAAIQ,EAA+B,MAAlBP,EAAUQ,IAAc,EAAI,EACzCC,EAAY,EAAIF,EAChBG,EAASpO,EAAOqO,MAAMrC,GACtBsC,EAAO,GACXF,EAAOjO,KAAO,KACdiO,EAAOG,MAAQ,GACfD,EAAKC,MAAQ,GACbH,EAAOG,MAAMJ,IAAcK,IAC3BF,EAAKC,MAAMJ,GAAaK,IACxB,IAAI9E,EAAY8D,EAAQ9M,IAAI,aAExBgJ,GAAa,GAAsB,kBAAV2C,IAC3BA,GAASA,EAAMoC,QAAQvI,KAAKwI,IAAIhF,EAAW,MAG7C0E,EAAOG,MAAMN,GAAcK,EAAKC,MAAMN,GAAc5B,EACpDL,EAAO,CAACoC,EAAQE,EAAM,CAEpBnO,KAAMsN,EACNQ,WAAYjC,EAAKiC,WAEjB5B,MAAOA,IAUX,OANAL,EAAO,CAACiB,EAAa0B,cAAc/J,EAAaoH,EAAK,IAAKiB,EAAa0B,cAAc/J,EAAaoH,EAAK,IAAKhM,EAAOoH,OAAO,GAAI4E,EAAK,KAEnIA,EAAK,GAAG7L,KAAO6L,EAAK,GAAG7L,MAAQ,GAE/BH,EAAO4O,MAAM5C,EAAK,GAAIA,EAAK,IAC3BhM,EAAO4O,MAAM5C,EAAK,GAAIA,EAAK,IACpBA,GAGT,SAAS6C,EAAYC,GACnB,OAAQC,MAAMD,KAASE,SAASF,GAIlC,SAASG,EAAqBC,EAAUC,EAAWC,EAAS7B,GAC1D,IAAI8B,EAAgB,EAAIH,EACpBI,EAAU/B,EAASgC,WAAWL,GAClC,OAAOL,EAAYM,EAAUE,KAAmBR,EAAYO,EAAQC,KAAmBF,EAAUD,KAAcE,EAAQF,IAAa3B,EAASI,QAAQ2B,GAASE,YAAYL,EAAUD,IAGtL,SAASO,EAAelC,EAAUvB,GAChC,GAAsB,gBAAlBuB,EAASpN,KAAwB,CACnC,IAAIgP,EAAYnD,EAAK,GAAGuC,MACpBa,EAAUpD,EAAK,GAAGuC,MAOtB,GAAIY,GAAaC,IAAYH,EAAqB,EAAGE,EAAWC,EAAS7B,IAAa0B,EAAqB,EAAGE,EAAWC,EAAS7B,IAChI,OAAO,EAIX,OAAON,EAAayC,WAAWnC,EAAUvB,EAAK,KAAOiB,EAAayC,WAAWnC,EAAUvB,EAAK,IAG9F,SAAS2D,EAA4BzN,EAAMC,EAAKyN,EAAQhL,EAAaiL,GACnE,IAEIC,EAFAvC,EAAW3I,EAAY9D,iBACvBkG,EAAY9E,EAAK+E,aAAa9E,GAE9B4N,EAAM/C,EAAWlL,aAAakF,EAAUtG,IAAI,KAAMmP,EAAIG,YACtDC,EAAMjD,EAAWlL,aAAakF,EAAUtG,IAAI,KAAMmP,EAAIK,aAE1D,GAAKnB,MAAMgB,IAAShB,MAAMkB,GAEnB,CAEL,GAAIrL,EAAYuL,kBAEdL,EAAQlL,EAAYuL,kBAAkBjO,EAAKkO,UAAUlO,EAAKqN,WAAYpN,QACjE,CACL,IAAIkO,EAAO9C,EAASgC,WAChBe,EAAIpO,EAAKxB,IAAI2P,EAAK,GAAIlO,GACtBoO,EAAIrO,EAAKxB,IAAI2P,EAAK,GAAIlO,GAC1B2N,EAAQvC,EAASiD,YAAY,CAACF,EAAGC,IAYnC,GAAsB,gBAAlBhD,EAASpN,KAAwB,CACnC,IAAIqB,EAAQ+L,EAASI,QAAQ,KACzBlM,EAAQ8L,EAASI,QAAQ,KACzB0C,EAAO9C,EAASgC,WAEhBV,EAAY3M,EAAKxB,IAAI2P,EAAK,GAAIlO,IAChC2N,EAAM,GAAKtO,EAAMiP,cAAcjP,EAAMkP,YAAYd,EAAS,EAAI,IACrDf,EAAY3M,EAAKxB,IAAI2P,EAAK,GAAIlO,MACvC2N,EAAM,GAAKrO,EAAMgP,cAAchP,EAAMiP,YAAYd,EAAS,EAAI,KAK7Db,MAAMgB,KACTD,EAAM,GAAKC,GAGRhB,MAAMkB,KACTH,EAAM,GAAKG,QAxCbH,EAAQ,CAACC,EAAKE,GA4ChB/N,EAAKyO,cAAcxO,EAAK2N,GAG1B,IAAI9G,EAAWmE,EAAW/F,OAAO,CAC/BjH,KAAM,WAwBNyQ,gBAAiB,SAAUC,EAAevQ,EAASuP,GACjDvP,EAAQsL,YAAW,SAAUhH,GAC3B,IAAI4I,EAAU5I,EAAYiM,cAE1B,GAAIrD,EAAS,CACX,IAAIsD,EAAStD,EAAQpB,UACjB2E,EAAWvD,EAAQwD,OACnBC,EAASzD,EAAQ0D,KAErBH,EAAShF,MAAK,SAAU5J,GACtBwN,EAA4BoB,EAAU5O,GAAK,EAAMyC,EAAaiL,GAC9DF,EAA4BsB,EAAQ9O,GAAK,EAAOyC,EAAaiL,MAG/DiB,EAAO/E,MAAK,SAAU5J,GACpB2O,EAAOH,cAAcxO,EAAK,CAAC4O,EAASI,cAAchP,GAAM8O,EAAOE,cAAchP,QAE/E5B,KAAK6Q,eAAe1Q,IAAIkE,EAAYyM,IAAIC,kBAEzC/Q,OAELgR,aAAc,SAAU3M,EAAa4I,EAASlN,EAASuP,GACrD,IAAItC,EAAW3I,EAAY9D,iBACvB0Q,EAAW5M,EAAYyM,GACvBI,EAAa7M,EAAYwH,UACzBsF,EAAcnR,KAAK6Q,eACnBO,EAAWD,EAAYhR,IAAI8Q,IAAaE,EAAYE,IAAIJ,EAAU,IAAItE,GAC1E3M,KAAKC,MAAMG,IAAIgR,EAASnR,OACxB,IAAIsQ,EAASe,EAAWtE,EAAU3I,EAAa4I,GAC3CuD,EAAWD,EAAOgB,KAClBb,EAASH,EAAOiB,GAChBC,EAAWlB,EAAOmB,KACtBzE,EAAQwD,OAASD,EACjBvD,EAAQ0D,KAAOD,EAEfzD,EAAQX,QAAQmF,GAChB,IAAI1O,EAAakK,EAAQ9M,IAAI,UACzBiC,EAAa6K,EAAQ9M,IAAI,cAsC7B,SAASwR,EAA0BhQ,EAAMC,EAAKyN,GAC5C,IAAI5I,EAAY9E,EAAK+E,aAAa9E,GAClCwN,EAA4BzN,EAAMC,EAAKyN,EAAQhL,EAAaiL,GAC5D3N,EAAKiQ,cAAchQ,EAAK,CACtBQ,WAAYqE,EAAUtG,IAAI,eAAiBiC,EAAWiN,EAAS,EAAI,GACnEnG,OAAQzC,EAAUtG,IAAI,UAAU,IAAS4C,EAAWsM,EAAS,EAAI,GACjEpM,MAAOwD,EAAUtG,IAAI,oBAAsB+Q,EAAWW,UAAU,WA1C/DpS,EAAOwM,QAAQlJ,KAClBA,EAAa,CAACA,EAAYA,IAGF,kBAAfX,IACTA,EAAa,CAACA,EAAYA,IAI5BmO,EAAOgB,KAAK/F,MAAK,SAAU5J,GACzB+P,EAA0BnB,EAAU5O,GAAK,GACzC+P,EAA0BjB,EAAQ9O,GAAK,MAGzC6P,EAASjG,MAAK,SAAU5J,GACtB,IAAIkQ,EAAYL,EAAS/K,aAAa9E,GAAKzB,IAAI,mBAC/CsR,EAASG,cAAchQ,EAAK,CAC1BqB,MAAO6O,GAAatB,EAASnO,cAAcT,EAAK,WAElD6P,EAASrB,cAAcxO,EAAK,CAAC4O,EAASI,cAAchP,GAAM8O,EAAOE,cAAchP,KAC/E6P,EAASG,cAAchQ,EAAK,CAC1B,eAAkB4O,EAASnO,cAAcT,EAAK,cAC9C,WAAc4O,EAASnO,cAAcT,EAAK,UAC1C,aAAgB8O,EAAOrO,cAAcT,EAAK,cAC1C,SAAY8O,EAAOrO,cAAcT,EAAK,eAG1CwP,EAASpP,WAAWyP,GAGpBlB,EAAOmB,KAAKK,mBAAkB,SAAUC,EAAIpQ,GAC1CoQ,EAAGC,UAAS,SAAUC,GACpBA,EAAMC,UAAYlF,QActBmE,EAASgB,QAAS,EAClBhB,EAASnR,MAAMY,OAASoM,EAAQ9M,IAAI,WAAakE,EAAYlE,IAAI,aAWrE,SAASmR,EAAWtE,EAAU3I,EAAa4I,GACzC,IAAIoF,EAGFA,EADErF,EACevN,EAAOyM,IAAIc,GAAYA,EAASgC,YAAY,SAAUsD,GACrE,IAAIC,EAAOlO,EAAYwH,UAAU2G,iBAAiBnO,EAAYwH,UAAU4G,aAAaH,KAAc,GAEnG,OAAO7S,EAAOiB,SAAS,CACrBiL,KAAM2G,GACLC,MAGY,CAAC,CAChB5G,KAAM,QACN/L,KAAM,UAIV,IAAI4Q,EAAW,IAAIhE,EAAK6F,EAAgBpF,GACpCyD,EAAS,IAAIlE,EAAK6F,EAAgBpF,GAElCwE,EAAW,IAAIjF,EAAK,GAAIS,GACxByF,EAAUjT,EAAOyM,IAAIe,EAAQ9M,IAAI,QAASV,EAAOkT,MAAM5F,EAAmB1I,EAAa2I,EAAUC,IAEjGD,IACF0F,EAAUjT,EAAOmT,OAAOF,EAASjT,EAAOkT,MAAMzD,EAAgBlC,KAGhE,IAAI6F,EAAiB7F,EAAWN,EAAamG,eAAiB,SAAUpH,GACtE,OAAOA,EAAKK,OAYd,OAVA0E,EAASsC,SAASrT,EAAOyM,IAAIwG,GAAS,SAAUjH,GAC9C,OAAOA,EAAK,MACV,KAAMoH,GACVnC,EAAOoC,SAASrT,EAAOyM,IAAIwG,GAAS,SAAUjH,GAC5C,OAAOA,EAAK,MACV,KAAMoH,GACVpB,EAASqB,SAASrT,EAAOyM,IAAIwG,GAAS,SAAUjH,GAC9C,OAAOA,EAAK,OAEdgG,EAASjL,eAAgB,EAClB,CACL+K,KAAMf,EACNgB,GAAId,EACJgB,KAAMD,GAIV/I,EAAOC,QAAUF,G,uBCzVjB,IAAIO,EAAc,EAAQ,QAoBtBP,EAAWO,EAAYnC,OAAO,CAChCjH,KAAM,WACNqJ,cAAe,CACbjF,OAAQ,EAERC,EAAG,EACHmF,QAAS,CACPvF,QAAS,QAGXkP,WAAW,EACX1J,MAAO,CACLC,MAAM,EACNC,SAAU,OAEZvD,UAAW,CAITgN,YAAa,GAEfvJ,SAAU,CACRJ,MAAO,CACLC,MAAM,EACNC,SAAU,WAMlBb,EAAOC,QAAUF,G,uBClDjB,IAAIhJ,EAAS,EAAQ,QAEjBwT,EAAiB,EAAQ,QAEzBC,EAAmB,EAAQ,QAE3BC,EAAuB,EAAQ,QAoB/BC,EAAYH,EAAepM,OAAO,CACpCjH,KAAM,kBAKNyT,KAAM,KAKN7I,KAAM,WACJ4I,EAAUE,WAAWtT,KAAM,OAAQuT,WACnCvT,KAAKwT,cAMPzI,YAAa,WACXqI,EAAUE,WAAWtT,KAAM,cAAeuT,WAC1CvT,KAAKwT,cAMPC,YAAa,WACXL,EAAUE,WAAWtT,KAAM,cAAeuT,WAC1CvT,KAAKwT,cAOPE,iBAAkB,WAChB,OAAO1T,KAAKD,QAAQ4T,gBAAgB,CAClCvI,SAAU,OACVwI,MAAO5T,KAAKgB,OAAO6S,UACnB/C,GAAI9Q,KAAKgB,OAAO8S,SACf,MAIP,SAASC,EAAYC,EAAShT,GAE5B,OAAOA,EAAOpB,OAASoB,EAAOW,KAAO,WAAa,SAGpDlC,EAAO4O,MAAM+E,EAAUlR,UAAWiR,GAClC,IAAIc,EAAc,CAIhBC,OAAQ,GAEVhB,EAAiB,IAAKE,EAAWW,EAAaE,GAC9Cf,EAAiB,IAAKE,EAAWW,EAAaE,GAC9C,IAAIxL,EAAW2K,EACf1K,EAAOC,QAAUF,G,uBCtFjB,IAAImB,EAAU,EAAQ,QAIlBuK,GAFUvK,EAAQC,QAEV,EAAQ,SAEhBuK,EAAWD,EAAMC,SACjB5I,EAAO2I,EAAM3I,KACbU,EAAMiI,EAAMjI,IACZmI,EAAUF,EAAME,QAGhBC,GAFWH,EAAM9G,SAEP,EAAQ,SAElBkH,EAAgBD,EAAQC,cAExBC,EAAc,EAAQ,QAEtBC,EAAqBD,EAAYC,mBACjCC,EAAkBF,EAAYE,gBAC9BC,EAAkBH,EAAYG,gBAC9BC,EAAyBJ,EAAYI,uBAErCC,EAAc,EAAQ,QAEtBC,EAAS,EAAQ,QAEjBC,EAAmB,EAAQ,QAE3BlI,EAAmB,EAAQ,QAE3BC,EAAsBD,EAAiBC,oBAkC3C,SAASkI,EAAoBC,EAAWnV,EAAWC,GACjD,OAAOkV,EAAUvB,qBAAuB5T,EAG1C,SAASoV,EAAKpV,EAAWC,EAASuP,GAKhCtP,KAAKmV,WAAa,GAMlBnV,KAAKoV,YAAc,GAMnBpV,KAAKqV,SAAW,GAMhBrV,KAAKsV,UAAY,GAEjBtV,KAAKuV,eAAezV,EAAWC,EAASuP,GAExCtP,KAAKwV,MAAQ1V,EA/Df,EAAQ,QAkER,IAAI2V,EAAYP,EAAKhT,UAgCrB,SAASwT,EAAcC,EAASC,EAAcvC,EAAMwC,GAClDxC,EAAKyC,gBAAkB,WAErB,OAAOC,EAAoB,CAACA,GAAqB,IAMnD,IACIA,EADAC,EAAYL,EAAQC,GAEpBX,EAAY5B,EAAKmC,MACjBS,EAAShB,EAAU9U,IAAI,mBACvB+V,EAAkBjB,EAAU9U,IAAI,4BAEpC,GAAK8V,EAAL,CAKA,GAAuB,MAAnBC,EACEC,EAAgBH,EAAUE,MAC5BH,EAAoBC,EAAUE,SAIhC,IAAK,IAAItU,KAAOoU,EACd,GAAIA,EAAUI,eAAexU,IAAQuU,EAAgBH,EAAUpU,MAE3DiU,EAAcQ,EAAmBL,EAAUpU,KAAQ,CACrDmU,EAAoBC,EAAUpU,GAC9B,MAKFmU,IACFF,EAAcQ,EAAmBN,KAAsB,GAGzD,SAASM,EAAmBhD,GAC1B,OAAOA,EAAK1F,IAAM,IAAM0F,EAAKO,OAIjC,SAASuC,EAAgB9C,GACvB,OAAOA,GAAsB,aAAdA,EAAKzT,MAAqC,SAAdyT,EAAKzT,MAAmB8U,EAAgBrB,GAyVrF,SAASiD,EAAoBjD,EAAMkD,GACjC,IAAIC,EAAanD,EAAKlD,YAClBsG,EAAgBD,EAAW,GAAKA,EAAW,GAE/CnD,EAAKnD,cAA6B,MAAbmD,EAAK1F,IAAc,SAAUK,GAChD,OAAOA,EAAQuI,GACb,SAAUvI,GACZ,OAAOyI,EAAgBzI,EAAQuI,GAEjClD,EAAKqD,aAA4B,MAAbrD,EAAK1F,IAAc,SAAUK,GAC/C,OAAOA,EAAQuI,GACb,SAAUvI,GACZ,OAAOyI,EAAgBzI,EAAQuI,GAlbnCd,EAAU7V,KAAO,OACjB6V,EAAUkB,oBAAqB,EAE/BlB,EAAUjV,QAAU,WAClB,OAAOR,KAAK4W,OAGdnB,EAAUoB,OAAS,SAAU9W,EAASuP,GACpC,IAAIqG,EAAU3V,KAAKqV,SAEnBrV,KAAK8W,aAAa/W,EAASC,KAAKwV,OAEhChK,EAAKmK,EAAQ5F,GAAG,SAAU9O,GACxB0T,EAAgB1T,EAAMoC,MAAOpC,EAAMuU,UAErChK,EAAKmK,EAAQ3F,GAAG,SAAU9O,GACxByT,EAAgBzT,EAAMmC,MAAOnC,EAAMsU,UAGrC,IAAIK,EAAgB,GACpBrK,EAAKmK,EAAQ5F,GAAG,SAAU9O,GACxByU,EAAcC,EAAS,IAAK1U,EAAO4U,MAErCrK,EAAKmK,EAAQ3F,GAAG,SAAU9O,GACxBwU,EAAcC,EAAS,IAAKzU,EAAO2U,MAIrC7V,KAAK+W,OAAO/W,KAAKwV,MAAOlG,IA0D1BmG,EAAUsB,OAAS,SAAUjX,EAAWwP,EAAK0H,GAC3C,IAAIC,EAAW1C,EAAczU,EAAUoX,qBAAsB,CAC3DxN,MAAO4F,EAAIG,WACX0H,OAAQ7H,EAAIK,cAEd3P,KAAK4W,MAAQK,EACb,IAAIG,EAAWpX,KAAKsV,UAwBpB,SAAS+B,IACP7L,EAAK4L,GAAU,SAAU/D,GACvB,IAAIiE,EAAejE,EAAKiE,eACpBC,EAASD,EAAe,CAAC,EAAGL,EAASvN,OAAS,CAAC,EAAGuN,EAASE,QAC3DvV,EAAMyR,EAAKmE,QAAU,EAAI,EAC7BnE,EAAKoE,UAAUF,EAAO3V,GAAM2V,EAAO,EAAI3V,IACvC0U,EAAoBjD,EAAMiE,EAAeL,EAASlH,EAAIkH,EAASjH,MA7BnEqH,KAEKL,GAAsBlX,EAAUK,IAAI,kBACvCqL,EAAK4L,GAAU,SAAU/D,GACvB,IAAKA,EAAKmC,MAAMrV,IAAI,oBAAqB,CACvC,IAAIuX,EAAiB9C,EAAuBvB,GAE5C,GAAIqE,EAAgB,CAClB,IAAI/J,EAAM0F,EAAKiE,eAAiB,SAAW,QACvCK,EAAStE,EAAKmC,MAAMrV,IAAI,oBAC5B8W,EAAStJ,IAAQ+J,EAAe/J,GAAOgK,EAEjB,QAAlBtE,EAAK9J,SACP0N,EAASjH,GAAK0H,EAAeP,OAASQ,EACX,SAAlBtE,EAAK9J,WACd0N,EAASlH,GAAK2H,EAAehO,MAAQiO,QAK7CN,MAmBJ5B,EAAUrI,QAAU,SAAUwK,EAAUC,GACtC,IAAIC,EAAe9X,KAAKqV,SAASuC,GAEjC,GAAoB,MAAhBE,EAAsB,CACxB,GAAiB,MAAbD,EAEF,IAAK,IAAIlM,KAAQmM,EACf,GAAIA,EAAa1B,eAAezK,GAC9B,OAAOmM,EAAanM,GAK1B,OAAOmM,EAAaD,KAQxBpC,EAAUsC,QAAU,WAClB,OAAO/X,KAAKsV,UAAU/S,SAcxBkT,EAAUuC,aAAe,SAAUC,EAAYC,GAC7C,GAAkB,MAAdD,GAAoC,MAAdC,EAAoB,CAC5C,IAAIC,EAAM,IAAMF,EAAa,IAAMC,EACnC,OAAOlY,KAAKmV,WAAWgD,GAGrB/D,EAAS6D,KACXC,EAAaD,EAAWC,WACxBD,EAAaA,EAAWA,YAI1B,IAAK,IAAIG,EAAI,EAAGC,EAAYrY,KAAKoV,YAAagD,EAAIC,EAAUC,OAAQF,IAClE,GAAIC,EAAUD,GAAGhL,QAAQ,KAAKwG,QAAUqE,GAAcI,EAAUD,GAAGhL,QAAQ,KAAKwG,QAAUsE,EACxF,OAAOG,EAAUD,IAKvB3C,EAAU8C,cAAgB,WACxB,OAAOvY,KAAKoV,YAAY7S,SAQ1BkT,EAAU+C,eAAiB,SAAUzY,EAAS0Y,EAAQ3M,GACpD,IAAInH,EAAS3E,KAAK0Y,mBAAmB3Y,EAAS0Y,GAE9C,OAAO9T,EAAOgU,UAAYhU,EAAOgU,UAAU1I,YAAYnE,GAASnH,EAAO0O,KAAO1O,EAAO0O,KAAKnD,cAAcvL,EAAO0O,KAAKuF,YAAY9M,IAAU,MAQ5I2J,EAAUoD,iBAAmB,SAAU9Y,EAAS0Y,EAAQ3M,GACtD,IAAInH,EAAS3E,KAAK0Y,mBAAmB3Y,EAAS0Y,GAE9C,OAAO9T,EAAOgU,UAAYhU,EAAOgU,UAAUG,YAAYhN,GAASnH,EAAO0O,KAAO1O,EAAO0O,KAAK0F,YAAYpU,EAAO0O,KAAKqD,aAAa5K,IAAU,MAO3I2J,EAAUiD,mBAAqB,SAAU3Y,EAAS0Y,GAChD,IAKIE,EACAtF,EANAhP,EAAcoU,EAAOpU,YACrB2U,EAAaP,EAAOO,YAAc3U,GAAeA,EAAY4U,uBAAuB,SAAS,GAC7FC,EAAaT,EAAOS,YAAc7U,GAAeA,EAAY4U,uBAAuB,SAAS,GAC7FnZ,EAAY2Y,EAAO3Y,UACnBqZ,EAAanZ,KAAKoV,YAItB,GAAI/Q,EACFsU,EAAYtU,EAAY9D,iBACxB8T,EAAQ8E,EAAYR,GAAa,IAAMA,EAAY,WAC9C,GAAIK,GAAcE,EACvBP,EAAY3Y,KAAKgY,aAAagB,EAAWI,eAAgBF,EAAWE,qBAC/D,GAAIJ,EACT3F,EAAOrT,KAAKoN,QAAQ,IAAK4L,EAAWI,qBAC/B,GAAIF,EACT7F,EAAOrT,KAAKoN,QAAQ,IAAK8L,EAAWE,qBAEjC,GAAItZ,EAAW,CAChB,IAAIqB,EAAOrB,EAAUS,iBAEjBY,IAASnB,OACX2Y,EAAY3Y,KAAKoV,YAAY,IAInC,MAAO,CACLuD,UAAWA,EACXtF,KAAMA,IASVoC,EAAU4D,aAAe,SAAU9J,GACjC,IAAIvB,EAAQhO,KAAKoV,YAAY,GAE7B,GAAIpH,EACF,OAAOA,EAAMqL,aAAa9J,IAS9BkG,EAAUF,eAAiB,SAAUzV,EAAWC,EAASuP,GACvD,IAAIgK,EAAmB,CACrBC,MAAM,EACNC,OAAO,EACPC,KAAK,EACLC,QAAQ,GAEN/D,EAAU,CACZ5F,EAAG,GACHC,EAAG,IAED2J,EAAY,CACd5J,EAAG,EACHC,EAAG,GAML,GAHAjQ,EAAQ6Z,cAAc,QAASC,EAAkB,KAAM7Z,MACvDD,EAAQ6Z,cAAc,QAASC,EAAkB,KAAM7Z,OAElD2Z,EAAU5J,IAAM4J,EAAU3J,EAI7B,OAFAhQ,KAAKqV,SAAW,QAChBrV,KAAKsV,UAAY,IAqBnB,SAASuE,EAAkBjC,GACzB,OAAO,SAAU3C,EAAWrT,GAC1B,GAAKoT,EAAoBC,EAAWnV,EAAWC,GAA/C,CAIA,IAAI+Z,EAAe7E,EAAU9U,IAAI,YAEhB,MAAbyX,EAEmB,QAAjBkC,GAA2C,WAAjBA,IAE5BA,EAAeR,EAAiBI,OAAS,MAAQ,UAI9B,SAAjBI,GAA4C,UAAjBA,IAE7BA,EAAeR,EAAiBC,KAAO,QAAU,QAIrDD,EAAiBQ,IAAgB,EACjC,IAAIzG,EAAO,IAAIyB,EAAO8C,EAAUnD,EAAmBQ,GAAY,CAAC,EAAG,GAAIA,EAAU9U,IAAI,QAAS2Z,GAC1FC,EAA2B,aAAd1G,EAAKzT,KACtByT,EAAK2G,OAASD,GAAc9E,EAAU9U,IAAI,eAC1CkT,EAAKmE,QAAUvC,EAAU9U,IAAI,WAE7B8U,EAAU5B,KAAOA,EAEjBA,EAAKmC,MAAQP,EAEb5B,EAAKlS,KAAOnB,KAEZqT,EAAKO,MAAQhS,EAEb5B,KAAKsV,UAAU2E,KAAK5G,GAEpBsC,EAAQiC,GAAUhW,GAAOyR,EACzBsG,EAAU/B,OAxDd5X,KAAKqV,SAAWM,EAEhBnK,EAAKmK,EAAQ5F,GAAG,SAAU9O,EAAOgX,GAC/BzM,EAAKmK,EAAQ3F,GAAG,SAAU9O,EAAOgX,GAC/B,IAAIC,EAAM,IAAMF,EAAa,IAAMC,EAC/BS,EAAY,IAAI9D,EAAYsD,GAChCQ,EAAUxX,KAAOnB,KACjB2Y,EAAUnD,MAAQ1V,EAClBE,KAAKmV,WAAWgD,GAAOQ,EAEvB3Y,KAAKoV,YAAY6E,KAAKtB,GAEtBA,EAAUuB,QAAQjZ,GAClB0X,EAAUuB,QAAQhZ,KACjBlB,QACFA,OAoDLyV,EAAUqB,aAAe,SAAU/W,EAASD,GA2B1C,SAASqa,EAAYxY,EAAM0R,EAAMhP,GAC/BmH,EAAK7J,EAAK8Q,aAAaY,EAAK1F,KAAK,IAAO,SAAUA,GAChD0F,EAAKhQ,MAAM+W,oBAGXzY,EAAMmL,EAAoBnL,EAAMgM,OA9BpCnC,EAAKxL,KAAKsV,WAAW,SAAUjC,GAC7BA,EAAKhQ,MAAMoU,UAAUxJ,KAAWA,QAElClO,EAAQsL,YAAW,SAAUhH,GAC3B,GAAIgW,EAAchW,GAAc,CAC9B,IAAIiW,EAAaC,EAAelW,EAAatE,GACzCiZ,EAAasB,EAAW,GACxBpB,EAAaoB,EAAW,GAE5B,IAAKtF,EAAoBgE,EAAYlZ,EAAWC,KAAaiV,EAAoBkE,EAAYpZ,EAAWC,GACtG,OAGF,IAAI4Y,EAAY3Y,KAAKgY,aAAagB,EAAWI,eAAgBF,EAAWE,gBACpEzX,EAAO0C,EAAYwH,UACnB5K,EAAQ0X,EAAUvL,QAAQ,KAC1BlM,EAAQyX,EAAUvL,QAAQ,KAEZ,SAAdzL,EAAK/B,OACPua,EAAYxY,EAAMV,EAAOoD,GACzB8V,EAAYxY,EAAMT,EAAOmD,OAG5BrE,OAiBLyV,EAAU+E,eAAiB,SAAU7M,GACnC,IAAI8M,EAAW,GACXzE,EAAY,GAOhB,OANAxK,EAAKxL,KAAKuY,iBAAiB,SAAUI,GACnC,IAAI+B,EAAkB,MAAP/M,GAAuB,SAARA,EAAiBgL,EAAUvL,QAAQO,GAAOgL,EAAUgC,cAC9EC,EAAYjC,EAAUkC,aAAaH,GACvCrG,EAAQoG,EAAUC,GAAY,GAAKD,EAASR,KAAKS,GACjDrG,EAAQ2B,EAAW4E,GAAa,GAAK5E,EAAUiE,KAAKW,MAE/C,CACLH,SAAUA,EACVzE,UAAWA,IAwBf,IAAI8E,EAAY,CAAC,QAAS,SAK1B,SAASP,EAAelW,EAAatE,GACnC,OAAOmM,EAAI4O,GAAW,SAAUlD,GAC9B,IAAI3C,EAAY5Q,EAAY4U,uBAAuBrB,GAAU,GAC7D,OAAO3C,KAQX,SAASoF,EAAchW,GACrB,MAA+C,gBAAxCA,EAAYlE,IAAI,oBAGzB+U,EAAK6F,OAAS,SAAUhb,EAASuP,GAC/B,IAAI0L,EAAQ,GAuBZ,OAtBAjb,EAAQ6Z,cAAc,QAAQ,SAAU9Z,EAAW8B,GACjD,IAAIT,EAAO,IAAI+T,EAAKpV,EAAWC,EAASuP,GACxCnO,EAAKwK,KAAO,QAAU/J,EAGtBT,EAAK4V,OAAOjX,EAAWwP,GAAK,GAC5BxP,EAAUS,iBAAmBY,EAC7B6Z,EAAMf,KAAK9Y,MAGbpB,EAAQsL,YAAW,SAAUhH,GAC3B,GAAKgW,EAAchW,GAAnB,CAIA,IAAIiW,EAAaC,EAAelW,EAAatE,GACzCiZ,EAAasB,EAAW,GACxBpB,EAAaoB,EAAW,GACxBxa,EAAYkZ,EAAWtF,mBACvBvS,EAAOrB,EAAUS,iBACrB8D,EAAY9D,iBAAmBY,EAAK6W,aAAagB,EAAWI,eAAgBF,EAAWE,oBAElF4B,GAIT9F,EAAKlG,WAAakG,EAAKhT,UAAU8M,WAAa6F,EAAY3S,UAAU8M,WACpE+F,EAAiBkG,SAAS,cAAe/F,GACzC,IAAIzM,EAAWyM,EACfxM,EAAOC,QAAUF,G,uBC7kBjB,IAAIhJ,EAAS,EAAQ,QAoBjBwJ,EAAgB,CAClBK,MAAM,EACNtF,OAAQ,EACRC,EAAG,EAEHuT,SAAS,EAET7L,KAAM,GAENuP,aAAc,MAEdC,WAAY,KACZC,aAAc,CACZC,SAAU,KACVC,SAAU,MACVC,YAAa,KAGfC,cAAe,GAEfC,QAAS,GAET5a,QAAQ,EAER6a,cAAc,EACdtS,QAAS,CACPE,MAAM,GAERqS,YAAa,GACbC,SAAU,CACRtS,MAAM,EACN2M,QAAQ,EACRC,gBAAiB,KACjB1M,UAAW,CACTvG,MAAO,OACPyG,MAAO,EACP9J,KAAM,SAGRsJ,OAAQ,CAAC,OAAQ,QACjB9G,WAAY,CAAC,GAAI,KAEnByZ,SAAU,CACRvS,MAAM,EAENwS,QAAQ,EAERxD,OAAQ,EACR9O,UAAW,CACTE,MAAO,IAGXqS,UAAW,CACTzS,MAAM,EAENwS,QAAQ,EACRE,OAAQ,EAERC,aAAc,KAEdC,aAAc,KACdvE,OAAQ,EAERwE,SAAU,IAEZC,UAAW,CACT9S,MAAM,EACNE,UAAW,CACTvG,MAAO,CAAC,QACRyG,MAAO,EACP9J,KAAM,UAGVyc,UAAW,CACT/S,MAAM,EACNgT,UAAW,CACTrZ,MAAO,CAAC,wBAAyB,4BAInCsZ,EAAc,GAClBA,EAAYC,aAAe/c,EAAO4O,MAAM,CAEtCoO,aAAa,EAQbC,cAAe,KAIfN,UAAW,CACT9S,MAAM,GAERuS,SAAU,CAERc,gBAAgB,EAChBC,SAAU,QAEZb,UAAW,CACTa,SAAU,SAEX3T,GACHsT,EAAYpP,UAAY1N,EAAO4O,MAAM,CAGnCoO,YAAa,CAAC,EAAG,GAsBjBI,YAAa,GAOZ5T,GACHsT,EAAYO,SAAWrd,EAAOiB,SAAS,CACrC2C,OAAO,EACP8K,IAAK,UACLvI,IAAK,WACJ2W,EAAYpP,WACfoP,EAAYQ,QAAUtd,EAAOiB,SAAS,CACpC2C,OAAO,EACP2Z,QAAS,IACRT,EAAYpP,WACf,IAAI1E,EAAW8T,EACf7T,EAAOC,QAAUF,G,uBC1KjB,IAAI/I,EAAU,EAAQ,QAElBud,EAAY,EAAQ,QA8BxB,SAAStQ,EAASuQ,GAChBld,KAAKmd,MAAQD,GAAQD,EACrBjd,KAAKC,MAAQ,IAAIP,EAAQoC,MAG3B,IAAIsb,EAAgBzQ,EAASzK,UA+B7B,SAASmb,EAAMjM,EAAUK,EAAU7P,EAAKC,GACtC,IAAIyb,EAAa7L,EAASb,cAAchP,GAExC,GAAK2b,EAAcD,GAAnB,CAIA,IAAItL,EAAK,IAAIZ,EAAS+L,MAAM1L,EAAU7P,EAAKC,GAC3C4P,EAAS+L,iBAAiB5b,EAAKoQ,GAC/BZ,EAASnR,MAAMG,IAAI4R,IAGrB,SAASyL,EAASrM,EAAUsM,EAAaC,EAAaC,EAAQC,EAAQhc,GACpE,IAAIic,EAASJ,EAAYK,iBAAiBH,GAErCL,EAAcI,EAAY/M,cAAciN,KAKxCC,EAGHA,EAAO9b,WAAW2b,EAAaE,EAAQhc,GAFvCic,EAAS,IAAI1M,EAAS+L,MAAMQ,EAAaE,EAAQhc,GAKnD8b,EAAYH,iBAAiBK,EAAQC,GACrC1M,EAASnR,MAAMG,IAAI0d,IAXjB1M,EAASnR,MAAM+d,OAAOF,GAmD1B,SAASG,EAAgBxM,GACvB,IAAInN,EAAYmN,EAASnN,UACzB,MAAO,CACLkF,UAAWlF,EAAUqC,SAAS,aAAauX,eAC3CC,eAAgB7Z,EAAUqC,SAAS,sBAAsBuX,eACzD9X,WAAY9B,EAAUqC,SAAS,SAC/BN,gBAAiB/B,EAAUqC,SAAS,mBAmBxC,SAASyX,EAAWC,GAClB,OAAO7P,MAAM6P,EAAG,KAAO7P,MAAM6P,EAAG,IAGlC,SAASd,EAAce,GACrB,OAAQF,EAAWE,EAAI,MAAQF,EAAWE,EAAI,IA9HhDlB,EAAcmB,aAAe,WAC3B,OAAO,GAOTnB,EAAcpb,WAAa,SAAUyP,GACnC,IAAIL,EAAWpR,KACXC,EAAQmR,EAASnR,MACjByd,EAActM,EAASoN,UAC3BpN,EAASoN,UAAY/M,EAGhBiM,GACHzd,EAAMC,YAGR,IAAI2B,EAAcoc,EAAgBxM,GAClCA,EAASgN,KAAKf,GAAatd,KAAI,SAAUwB,GACvCyb,EAAMjM,EAAUK,EAAU7P,EAAKC,MAC9BgV,QAAO,SAAUgH,EAAQD,GAC1BH,EAASrM,EAAUsM,EAAajM,EAAUmM,EAAQC,EAAQhc,MACzDmc,QAAO,SAAUpc,GAClB3B,EAAM+d,OAAON,EAAYK,iBAAiBnc,OACzC8c,WAiCLtB,EAAcrM,aAAe,WAC3B,IAAIU,EAAWzR,KAAKwe,UAEf/M,GAILA,EAASM,mBAAkB,SAAUC,EAAIpQ,GACvCoQ,EAAGjB,aAAaU,EAAU7P,KACzB5B,OAGLod,EAAcuB,yBAA2B,SAAUlN,GACjDzR,KAAK4e,aAAeX,EAAgBxM,GACpCzR,KAAKwe,UAAY,KACjBxe,KAAKC,MAAMC,aAGbkd,EAAcyB,kBAAoB,SAAUC,EAAYrN,GACtD,SAASsN,EAA0B/M,GAC5BA,EAAGgN,UACNhN,EAAG1M,YAAc0M,EAAGzM,eAAgB,GAIxC,IAAK,IAAI3D,EAAMkd,EAAWG,MAAOrd,EAAMkd,EAAWI,IAAKtd,IAAO,CAC5D,IAAI0b,EAAa7L,EAASb,cAAchP,GAExC,GAAI2b,EAAcD,GAAa,CAC7B,IAAItL,EAAK,IAAIhS,KAAKmd,MAAM1L,EAAU7P,EAAK5B,KAAK4e,cAC5C5M,EAAGC,SAAS8M,GACZ/e,KAAKC,MAAMG,IAAI4R,GACfP,EAAS+L,iBAAiB5b,EAAKoQ,MAerCoL,EAAcY,OAAS,WACrBhe,KAAKmf,oBAELnf,KAAKof,aAAe,KACpBpf,KAAKC,MAAMC,aAGbkd,EAAc+B,kBAAoB,WAChC,IAAI7Z,EAActF,KAAKof,aAEnB9Z,GACFA,EAAY+Z,oBAYhB,IAAI5W,EAAWkE,EACfjE,EAAOC,QAAUF,G,uBCzKjB,IAAIjJ,EAAU,EAAQ,QAEtB,EAAQ,QAER,EAAQ,QAoBRA,EAAQuB,sBAAqB,SAAUyG,GAErCA,EAAI8X,SAAW9X,EAAI8X,UAAY,O,uBC1BjC,IAAI7f,EAAS,EAAQ,QAEjB8f,EAAS,EAAQ,QAEjBC,EAAa,EAAQ,QAErBC,EAAW,EAAQ,QAEnB/f,EAAU,EAAQ,QAElB4B,EAAU,EAAQ,QAElBoe,EAAQpe,EAAQoe,MAwBhBC,EAAoB,CAAC,aAAc,YAEvC,SAASC,EAAkBC,GACzB,MAAO,IAAMA,EAAiB,OAOhC,SAASxe,EAAasK,EAAM8F,EAAU7P,GACpC,IAAIqB,EAAQwO,EAASpP,cAAcT,EAAK,SACpCmB,EAAa0O,EAASpP,cAAcT,EAAK+J,GACzCvJ,EAAaqP,EAASpP,cAAcT,EAAK+J,EAAO,QAEpD,GAAK5I,GAA6B,SAAfA,EAAnB,CAIKtD,EAAOwM,QAAQ7J,KAClBA,EAAa,CAACA,EAAYA,IAG5B,IAAIc,EAAasc,EAAWne,aAAa0B,GAAaX,EAAW,GAAK,GAAIA,EAAW,GAAK,EAAGA,EAAW,GAAIA,EAAW,GAAIa,GAE3H,OADAC,EAAWyI,KAAOA,EACXzI,GAGT,SAAS4c,EAAWC,GAClB,IAAIrO,EAAO,IAAI+N,EAAS,CACtB9T,KAAM,OACNqU,kBAAkB,IAGpB,OADAC,EAAcvO,EAAKpR,MAAOyf,GACnBrO,EAGT,SAASuO,EAAcC,EAAaH,GAClCG,EAAYC,GAAKJ,EAAO,GAAG,GAC3BG,EAAYE,GAAKL,EAAO,GAAG,GAC3BG,EAAYG,GAAKN,EAAO,GAAG,GAC3BG,EAAYI,GAAKP,EAAO,GAAG,GAC3BG,EAAYK,QAAU,EACtB,IAAIC,EAAMT,EAAO,GAEbS,GACFN,EAAYO,KAAOD,EAAI,GACvBN,EAAYQ,KAAOF,EAAI,KAEvBN,EAAYO,KAAOE,IACnBT,EAAYQ,KAAOC,KAIvB,SAASC,IACP,IAAIC,EAAY7gB,KACZ8gB,EAAaD,EAAUE,YAAY,cACnCC,EAAWH,EAAUE,YAAY,YACjC1X,EAAQwX,EAAUE,YAAY,SAElC,GAAKD,GAAeE,IAAY3X,EAAM4X,OAAtC,CAIA,IAAIC,EAAW,EACXC,EAAanhB,KAAK4C,OAEtB,MAAOue,EACDA,EAAW9d,QACb6d,GAAYC,EAAW9d,MAAM,IAG/B8d,EAAaA,EAAWve,OAG1B,IAAI8O,EAAOmP,EAAUE,YAAY,QAGjC,GAAK/gB,KAAKohB,SAAY1P,EAAK0P,QAA3B,CAIA,IAAIb,EAAU7O,EAAKpR,MAAMigB,QACrBc,EAAU3P,EAAK4P,QAAQ,GACvBC,EAAQ7P,EAAK4P,QAAQf,GACrBiB,EAAIjC,EAAOkC,IAAI,GAAIF,EAAOF,GAG9B,GAFA9B,EAAOmC,UAAUF,EAAGA,GAEhBV,EAAY,CACdA,EAAW3d,KAAK,WAAYke,GAC5B,IAAIM,EAAUjQ,EAAKkQ,UAAU,GAC7Bd,EAAW3d,KAAK,WAAYwC,KAAKoB,GAAK,EAAIpB,KAAKkc,MAAMF,EAAQ,GAAIA,EAAQ,KACzEb,EAAW3d,KAAK,QAAS,CAAC+d,EAAWX,EAASW,EAAWX,IAG3D,GAAIS,EAAU,CACZA,EAAS7d,KAAK,WAAYoe,GACtBI,EAAUjQ,EAAKkQ,UAAU,GAC7BZ,EAAS7d,KAAK,YAAawC,KAAKoB,GAAK,EAAIpB,KAAKkc,MAAMF,EAAQ,GAAIA,EAAQ,KACxEX,EAAS7d,KAAK,QAAS,CAAC+d,EAAWX,EAASW,EAAWX,IAGzD,IAAKlX,EAAM4X,OAAQ,CAEjB,IAAIa,EACAC,EACAC,EAHJ3Y,EAAMlG,KAAK,WAAYoe,GAIvB,IAAIU,EAAW,EAAIf,EAEnB,GAAyB,QAArB7X,EAAM6Y,WACRJ,EAAe,CAACN,EAAE,GAAKS,EAAWV,EAAM,GAAIC,EAAE,GAAKS,EAAWV,EAAM,IACpEQ,EAAYP,EAAE,GAAK,GAAM,OAASA,EAAE,IAAM,GAAM,QAAU,SAC1DQ,EAAoBR,EAAE,GAAK,GAAM,MAAQA,EAAE,IAAM,GAAM,SAAW,cAE/D,GAAyB,WAArBnY,EAAM6Y,WAAyB,CACpC,IAAIC,EAAc5B,EAAU,EAExB6B,GADAT,EAAUjQ,EAAKkQ,UAAUO,GACrB,CAACR,EAAQ,IAAKA,EAAQ,KAC1BU,EAAK3Q,EAAK4P,QAAQa,GAElBC,EAAE,GAAK,IACTA,EAAE,IAAMA,EAAE,GACVA,EAAE,IAAMA,EAAE,IAGZN,EAAe,CAACO,EAAG,GAAKD,EAAE,GAAKH,EAAUI,EAAG,GAAKD,EAAE,GAAKH,GACxDF,EAAY,SACZC,EAAoB,SACpB,IAAIM,GAAY3c,KAAKkc,MAAMF,EAAQ,GAAIA,EAAQ,IAE3CJ,EAAM,GAAKF,EAAQ,KACrBiB,EAAW3c,KAAKoB,GAAKub,GAGvBjZ,EAAMlG,KAAK,WAAYmf,QAGrBR,EAAe,EAAEN,EAAE,GAAKS,EAAWZ,EAAQ,IAAKG,EAAE,GAAKS,EAAWZ,EAAQ,IAC1EU,EAAYP,EAAE,GAAK,GAAM,QAAUA,EAAE,IAAM,GAAM,OAAS,SAC1DQ,EAAoBR,EAAE,GAAK,GAAM,SAAWA,EAAE,IAAM,GAAM,MAAQ,SAGxEnY,EAAMlG,KAAK,CACT1C,MAAO,CAELuhB,kBAAmB3Y,EAAMkZ,iBAAmBP,EAC5CD,UAAW1Y,EAAMmZ,aAAeT,GAElCxY,SAAUuY,EACVze,MAAO,CAAC6d,EAAUA,QAWxB,SAASuB,EAAKhR,EAAU7P,EAAKC,GAC3BnC,EAAQoC,MAAMC,KAAK/B,MAEnBA,KAAK0iB,YAAYjR,EAAU7P,EAAKC,GAGlC,IAAI8gB,EAAYF,EAAKvgB,UAErBygB,EAAUC,aAAehC,EAEzB+B,EAAUD,YAAc,SAAUjR,EAAU7P,EAAKC,GAC/C,IAAIwC,EAAcoN,EAASnN,UACvBue,EAAapR,EAASb,cAAchP,GACpC8P,EAAOoO,EAAW+C,GACtBnR,EAAKpR,MAAMigB,QAAU,EACrB7gB,EAAQmF,UAAU6M,EAAM,CACtBpR,MAAO,CACLigB,QAAS,IAEVlc,EAAazC,GAChB5B,KAAKI,IAAIsR,GACT,IAAIrI,EAAQ,IAAI3J,EAAQojB,KAAK,CAC3BnX,KAAM,QAINoX,yBAA0B,IAE5B/iB,KAAKI,IAAIiJ,GACT5J,EAAO+L,KAAKmU,GAAmB,SAAUE,GACvC,IAAI3W,EAAS7H,EAAawe,EAAgBpO,EAAU7P,GAIpD5B,KAAKI,IAAI8I,GACTlJ,KAAK4f,EAAkBC,IAAmBpO,EAASpP,cAAcT,EAAKie,KACrE7f,MAEHA,KAAKgjB,iBAAiBvR,EAAU7P,EAAKC,IAGvC8gB,EAAU3gB,WAAa,SAAUyP,EAAU7P,EAAKC,GAC9C,IAAIwC,EAAcoN,EAASnN,UACvBoN,EAAO1R,KAAK+gB,YAAY,QACxB8B,EAAapR,EAASb,cAAchP,GACpC+C,EAAS,CACXrE,MAAO,IAET2f,EAActb,EAAOrE,MAAOuiB,GAC5BnjB,EAAQ8E,YAAYkN,EAAM/M,EAAQN,EAAazC,GAC/CnC,EAAO+L,KAAKmU,GAAmB,SAAUE,GACvC,IAAI9c,EAAa0O,EAASpP,cAAcT,EAAKie,GACzC1H,EAAMyH,EAAkBC,GAE5B,GAAI7f,KAAKmY,KAASpV,EAAY,CAC5B/C,KAAKge,OAAOhe,KAAK+gB,YAAYlB,IAC7B,IAAI3W,EAAS7H,EAAawe,EAAgBpO,EAAU7P,GACpD5B,KAAKI,IAAI8I,GAGXlJ,KAAKmY,GAAOpV,IACX/C,MAEHA,KAAKgjB,iBAAiBvR,EAAU7P,EAAKC,IAGvC8gB,EAAUK,iBAAmB,SAAUvR,EAAU7P,EAAKC,GACpD,IAAIwC,EAAcoN,EAASnN,UACvBoN,EAAO1R,KAAK+gB,YAAY,QACxBvX,EAAY3H,GAAeA,EAAY2H,UACvC2U,EAAiBtc,GAAeA,EAAYsc,eAC5C/X,EAAavE,GAAeA,EAAYuE,WACxCC,EAAkBxE,GAAeA,EAAYwE,gBAEjD,IAAKxE,GAAe4P,EAASjL,cAAe,CAC1C,IAAIC,EAAYgL,EAAS/K,aAAa9E,GACtC4H,EAAY/C,EAAUE,SAAS,aAAauX,eAC5CC,EAAiB1X,EAAUE,SAAS,sBAAsBuX,eAC1D9X,EAAaK,EAAUE,SAAS,SAChCN,EAAkBI,EAAUE,SAAS,kBAGvC,IAAIsc,EAAcxR,EAASpP,cAAcT,EAAK,SAC1CshB,EAAgBzjB,EAAO0jB,UAAU1R,EAASpP,cAAcT,EAAK,WAAY4H,EAAU5E,QAAS,GAChG8M,EAAK5L,SAASrG,EAAOiB,SAAS,CAC5BqF,eAAe,EACfpF,KAAM,OACNyiB,OAAQH,EACRre,QAASse,GACR1Z,IACHkI,EAAK1J,WAAamW,EAElB1e,EAAO+L,KAAKmU,GAAmB,SAAUE,GACvC,IAAI3W,EAASlJ,KAAK+gB,YAAYlB,GAE1B3W,IACFA,EAAOlC,SAASic,GAChB/Z,EAAOhC,SAAS,CACdtC,QAASse,OAGZljB,MACH,IAGIqjB,EACAC,EAJAC,EAAYnd,EAAWQ,WAAW,QAClC4c,EAAiBnd,EAAgBO,WAAW,QAC5CyC,EAAQrJ,KAAK+gB,YAAY,SAI7B,IAAIwC,GAAaC,KACfH,EAAoBJ,GAAe,OACnCK,EAAWjf,EAAYof,kBAAkB7hB,EAAK,SAAU6P,EAASiS,UAEjD,MAAZJ,GAAkB,CACpB,IAAIK,EAAStf,EAAY0H,YAAYnK,GACrC0hB,EAAqB,MAAVK,EAAiBlS,EAAShK,QAAQ7F,GAAO6M,SAASkV,GAAUjE,EAAMiE,GAAUA,EAI3F,IAAIC,EAAaL,EAAYD,EAAW,KACpCO,EAAeL,EAAiB/jB,EAAOqkB,UAAUzf,EAAYof,kBAAkB7hB,EAAK,WAAY6P,EAASiS,UAAWJ,GAAY,KAChIS,EAAa1a,EAAM5I,MAGL,MAAdmjB,GAAsC,MAAhBC,IACxBnkB,EAAQskB,aAAa3a,EAAM5I,MAAO2F,EAAY,CAC5CkC,KAAMsb,GACL,CACD7b,UAAWsb,IAEbha,EAAMmZ,YAAcuB,EAAWhC,UAC/B1Y,EAAMkZ,gBAAkBwB,EAAW/B,kBAEnC3Y,EAAM6Y,WAAa9b,EAAWjG,IAAI,aAAe,UAKjDkJ,EAAMrB,WAFY,MAAhB6b,EAEiB,CACjBvb,KAAMub,EACNI,SAAU5d,EAAgB6d,cAAa,GAGvCC,UAAW9d,EAAgBO,WAAW,aACtCwd,WAAY/d,EAAgBO,WAAW,cACvCuV,SAAU9V,EAAgBO,WAAW,YACrCyd,WAAYhe,EAAgBO,WAAW,eAGtB,CACjB0B,KAAM,MAIVe,EAAM4X,QAAUsC,IAAcC,EAC9B9jB,EAAQwI,cAAclI,OAGxB2iB,EAAU/e,UAAY,WACpB5D,KAAK6D,QAAQ,aAGf8e,EAAU7e,SAAW,WACnB9D,KAAK6D,QAAQ,WAGf8e,EAAU5R,aAAe,SAAUU,EAAU7P,GAC3C5B,KAAKigB,cAAcxO,EAASb,cAAchP,KAG5C+gB,EAAU1C,cAAgB,SAAUF,GAClC,IAAIuE,EAAWtkB,KAAK+gB,YAAY,QAChCd,EAAcqE,EAAShkB,MAAOyf,GAC9BuE,EAASC,SAGX9kB,EAAO+I,SAASia,EAAM/iB,EAAQoC,OAC9B,IAAI2G,EAAWga,EACf/Z,EAAOC,QAAUF,G,uBCrXjB,IAAI/I,EAAU,EAAQ,QAElB8kB,EAAO,EAAQ,QAwBfC,EAAoB/kB,EAAQ+iB,KAAKvgB,UACjCwiB,EAAmBhlB,EAAQilB,YAAYziB,UAE3C,SAAS0iB,EAAOtkB,GACd,OAAOkO,OAAOlO,EAAMmgB,OAASjS,OAAOlO,EAAMogB,MAG5C,IAAIjY,EAAW/I,EAAQmlB,YAAY,CACjCjlB,KAAM,UACNa,MAAO,CACL2iB,OAAQ,OACRziB,KAAM,MAERL,MAAO,CACL6f,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,QAAS,EACTE,KAAM,KACNC,KAAM,MAERoE,UAAW,SAAUC,EAAKzkB,GACxBN,KAAK4kB,EAAOtkB,GAAS,iBAAmB,mBAAmBykB,EAAKzkB,IAElE0kB,eAAgBP,EAAkBK,UAClCG,gBAAiBP,EAAiBI,UAClCxD,QAAS,SAAU4D,GACjB,OAAOllB,KAAK4kB,EAAO5kB,KAAKM,OAAS,eAAiB,iBAAiB4kB,IAErEC,aAAcV,EAAkBnD,QAChC8D,cAAeV,EAAiBpD,QAChCM,UAAW,SAAUsD,GACnB,IAAI5kB,EAAQN,KAAKM,MACb+kB,EAAIT,EAAOtkB,GAAS,CAACA,EAAM+f,GAAK/f,EAAM6f,GAAI7f,EAAMggB,GAAKhgB,EAAM8f,IAAMpgB,KAAKslB,gBAAgBJ,GAC1F,OAAOV,EAAK9C,UAAU2D,EAAGA,IAE3BC,gBAAiBZ,EAAiB9C,YAGpClZ,EAAOC,QAAUF,G,uBClEjB,IAAI0L,EAAQ,EAAQ,QAEhBoR,EAAapR,EAAMoR,WAoBvB,SAAS9c,EAAS+c,EAAYC,EAAmBC,GAE/C,MAAO,CACLF,WAAYA,EAEZG,kBAAkB,EAClBC,MAAO,SAAUvhB,EAAatE,EAASuP,GACrC,IAAI3N,EAAO0C,EAAYwH,UACnB9I,EAAasB,EAAYlE,IAAI,UAC7BiC,EAAaiC,EAAYlE,IAAI,cAC7B6C,EAAaqB,EAAYlE,IAAI,oBAC7B0lB,EAAwBN,EAAWxiB,GACnC+iB,EAAwBP,EAAWnjB,GACnC2jB,EAAcF,GAAyBC,EACvCE,GAAgBH,GAAyB9iB,EAAaA,EAAa0iB,EACnEQ,EAAoBH,EAAqC,KAAb1jB,EAYhD,GAXAT,EAAKukB,UAAU,CACbR,aAAcA,GAAgBM,EAK9B9c,OAAQ8c,EACR5jB,WAAY6jB,EACZE,iBAAkBnjB,KAGhBjD,EAAQqmB,iBAAiB/hB,GAiC7B,MAAO,CACLgiB,SAAU1kB,EAAK6E,eAAiBuf,EAAcM,EAAW,MA9B3D,SAASA,EAAS1kB,EAAMC,GACtB,GAAImkB,EAAa,CACf,IAAIO,EAAWjiB,EAAY0H,YAAYnK,GACnC2kB,EAASliB,EAAYmiB,cAAc5kB,GACvCikB,GAAyBlkB,EAAKiQ,cAAchQ,EAAK,SAAUmB,EAAWujB,EAAUC,IAChFT,GAAyBnkB,EAAKiQ,cAAchQ,EAAK,aAAcQ,EAAWkkB,EAAUC,IAGtF,GAAI5kB,EAAK6E,cAAe,CACtB,IAAIC,EAAY9E,EAAK+E,aAAa9E,GAC9B6kB,EAAiBhgB,EAAUG,WAAW,UAAU,GAChD8f,EAAiBjgB,EAAUG,WAAW,cAAc,GACpD+f,EAAuBlgB,EAAUG,WAAW,oBAAoB,GAE9C,MAAlB6f,GACF9kB,EAAKiQ,cAAchQ,EAAK,SAAU6kB,GAGd,MAAlBC,GAEF/kB,EAAKiQ,cAAchQ,EAAK,aAAc8kB,GAGZ,MAAxBC,GACFhlB,EAAKiQ,cAAchQ,EAAK,mBAAoB+kB,OAYxDje,EAAOC,QAAUF,G,uBCzFjB,IAAI0L,EAAQ,EAAQ,QAEhBjI,EAAMiI,EAAMjI,IAEZ0a,EAAsB,EAAQ,QAE9B/Z,EAAmB,EAAQ,QAE3Bga,EAAqBha,EAAiBga,mBAsB1C,SAASpe,EAAS+c,GAChB,MAAO,CACLA,WAAYA,EACZsB,KAAMF,IACNhB,MAAO,SAAUvhB,GACf,IAAI1C,EAAO0C,EAAYwH,UACnBmB,EAAW3I,EAAY9D,iBACvBwmB,EAAkB1iB,EAAY0iB,gBAC9BC,EAAgBD,EAAgBE,MAEpC,GAAKja,EAAL,CAIA,IAAI8C,EAAO5D,EAAIc,EAASgC,YAAY,SAAUrB,GAC5C,OAAOhM,EAAK8Q,aAAa9E,MACxBpL,MAAM,EAAG,GACR2kB,EAASpX,EAAKwI,OACd6O,EAAiBxlB,EAAKylB,mBAAmB,wBA0C7C,OAxCIP,EAAmBllB,EAAMmO,EAAK,MAGhCA,EAAK,GAAKqX,GAGRN,EAAmBllB,EAAMmO,EAAK,MAGhCA,EAAK,GAAKqX,GA+BLD,GAAU,CACfG,SAAUA,GA7BZ,SAASA,EAASd,EAAQ5kB,GAIxB,IAHA,IAAI2lB,EAAWf,EAAOrH,IAAMqH,EAAOtH,MAC/Bc,EAASiH,GAAiB,IAAIO,aAAaD,EAAWJ,GAEjD9O,EAAImO,EAAOtH,MAAO/K,EAAS,EAAGsT,EAAQ,GAAIC,EAAS,GAAIrP,EAAImO,EAAOrH,IAAK9G,IAAK,CACnF,IAAI7I,EAEJ,GAAe,IAAX2X,EAAc,CAChB,IAAInX,EAAIpO,EAAKxB,IAAI2P,EAAK,GAAIsI,GAC1B7I,GAASf,MAAMuB,IAAM/C,EAASiD,YAAYF,EAAG,KAAM0X,OAC9C,CACD1X,EAAIyX,EAAM,GAAK7lB,EAAKxB,IAAI2P,EAAK,GAAIsI,GAArC,IACIpI,EAAIwX,EAAM,GAAK7lB,EAAKxB,IAAI2P,EAAK,GAAIsI,GAErC7I,GAASf,MAAMuB,KAAOvB,MAAMwB,IAAMhD,EAASiD,YAAYuX,EAAO,KAAMC,GAGlET,GACFjH,EAAO7L,KAAY3E,EAAQA,EAAM,GAAKoR,IACtCZ,EAAO7L,KAAY3E,EAAQA,EAAM,GAAKoR,KAEtChf,EAAKyO,cAAcgI,EAAG7I,GAASA,EAAMhN,SAAW,CAACoe,IAAKA,MAI1DqG,GAAiBrlB,EAAK+lB,UAAU,eAAgB3H,MAUxDrX,EAAOC,QAAUF,G,uBCjGjB,IAAIjJ,EAAU,EAAQ,QAElBC,EAAS,EAAQ,QAoBjBgJ,EAAWjJ,EAAQG,oBAAoB,CACzCC,KAAM,SACN4K,KAAM,WAMJxK,KAAK6Q,eAAiBpR,EAAOkoB,iBAE/B9nB,OAAQ,SAAU0L,EAAaxL,EAASuP,GACtC,IAAIuB,EAAiB7Q,KAAK6Q,eAC1BA,EAAerF,MAAK,SAAUC,GAC5BA,EAAK2G,QAAS,KAEhB,IAAIwV,EAAiB5nB,KAAKJ,KAAO,QACjCG,EAAQsL,YAAW,SAAUhH,GAC3B,IAAIkH,EAAclH,EAAYujB,GAC9Brc,GAAevL,KAAKgR,aAAa3M,EAAakH,EAAaxL,EAASuP,KACnEtP,MACH6Q,EAAerF,MAAK,SAAUC,IAC3BA,EAAK2G,QAAUpS,KAAKC,MAAM+d,OAAOvS,EAAKxL,SACtCD,OAELgR,aAAc,eAGhBtI,EAAOC,QAAUF,G,uBCjDjB,IAAIhJ,EAAS,EAAQ,QAEjBooB,EAAY,EAAQ,QAEpBrb,EAAO,EAAQ,QAEfC,EAAa,EAAQ,QAErB/M,EAAU,EAAQ,QAElBgN,EAAe,EAAQ,QAEvBE,EAAa,EAAQ,QAqBrBkb,EAAoB,SAAUzjB,EAAa2I,EAAU+a,EAAStc,GAChE,IAAIuc,EAAKtb,EAAa0B,cAAc/J,EAAaoH,EAAK,IAClDwc,EAAKvb,EAAa0B,cAAc/J,EAAaoH,EAAK,IAClD4B,EAAW5N,EAAO4N,SAElB6a,EAAUF,EAAGha,MACbma,EAAUF,EAAGja,MACjBka,EAAQ,GAAK7a,EAAS6a,EAAQ,IAAKja,KACnCia,EAAQ,GAAK7a,EAAS6a,EAAQ,IAAKja,KACnCka,EAAQ,GAAK9a,EAAS8a,EAAQ,GAAIla,KAClCka,EAAQ,GAAK9a,EAAS8a,EAAQ,GAAIla,KAElC,IAAIma,EAAS3oB,EAAO4oB,SAAS,CAAC,GAAIL,EAAIC,IAMtC,OALAG,EAAOpa,MAAQ,CAACga,EAAGha,MAAOia,EAAGja,OAC7Boa,EAAOE,GAAKN,EAAGjY,EACfqY,EAAOG,GAAKP,EAAGhY,EACfoY,EAAOjI,GAAK8H,EAAGlY,EACfqY,EAAOhI,GAAK6H,EAAGjY,EACRoY,GAGT,SAAS9Z,EAAYC,GACnB,OAAQC,MAAMD,KAASE,SAASF,GAIlC,SAASG,EAAqBC,EAAUC,EAAWC,EAAS7B,GAC1D,IAAI8B,EAAgB,EAAIH,EACxB,OAAOL,EAAYM,EAAUE,KAAmBR,EAAYO,EAAQC,IAGtE,SAAS0Z,EAAexb,EAAUvB,GAChC,IAAImD,EAAYnD,EAAKuC,MAAM,GACvBa,EAAUpD,EAAKuC,MAAM,GAEzB,QAAsB,gBAAlBhB,EAASpN,OAOPgP,IAAaC,IAAYH,EAAqB,EAAGE,EAAWC,EAAS7B,KAAa0B,EAAqB,EAAGE,EAAWC,EAAS7B,MAK7HN,EAAayC,WAAWnC,EAAU,CACvCgB,MAAOY,EACPmB,EAAGtE,EAAK6c,GACRtY,EAAGvE,EAAK8c,MACJ7b,EAAayC,WAAWnC,EAAU,CACtCgB,MAAOa,EACPkB,EAAGtE,EAAK0U,GACRnQ,EAAGvE,EAAK2U,MAKZ,SAASqI,EAAwB9mB,EAAMC,EAAKkO,EAAMzL,EAAaiL,GAC7D,IAEIC,EAFAvC,EAAW3I,EAAY9D,iBACvBkG,EAAY9E,EAAK+E,aAAa9E,GAE9B4N,EAAM/C,EAAWlL,aAAakF,EAAUtG,IAAI2P,EAAK,IAAKR,EAAIG,YAC1DC,EAAMjD,EAAWlL,aAAakF,EAAUtG,IAAI2P,EAAK,IAAKR,EAAIK,aAE9D,GAAKnB,MAAMgB,IAAShB,MAAMkB,GAEnB,CAEL,GAAIrL,EAAYuL,kBAEdL,EAAQlL,EAAYuL,kBAAkBjO,EAAKkO,UAAUC,EAAMlO,QACtD,CACL,IAAImO,EAAIpO,EAAKxB,IAAI2P,EAAK,GAAIlO,GACtBoO,EAAIrO,EAAKxB,IAAI2P,EAAK,GAAIlO,GACtByc,EAAK,CAACtO,EAAGC,GACbhD,EAAS0b,WAAa1b,EAAS0b,UAAUrK,EAAIA,GAC7C9O,EAAQvC,EAASiD,YAAYoO,GAAI,GAGnC,GAAsB,gBAAlBrR,EAASpN,KAAwB,CACnC,IAAIqB,EAAQ+L,EAASI,QAAQ,KACzBlM,EAAQ8L,EAASI,QAAQ,KACzB2C,EAAIpO,EAAKxB,IAAI2P,EAAK,GAAIlO,GACtBoO,EAAIrO,EAAKxB,IAAI2P,EAAK,GAAIlO,GAEtB0M,EAAYyB,GACdR,EAAM,GAAKtO,EAAMiP,cAAcjP,EAAMkP,YAAwB,OAAZL,EAAK,GAAc,EAAI,IAC/DxB,EAAY0B,KACrBT,EAAM,GAAKrO,EAAMgP,cAAchP,EAAMiP,YAAwB,OAAZL,EAAK,GAAc,EAAI,KAKvEtB,MAAMgB,KACTD,EAAM,GAAKC,GAGRhB,MAAMkB,KACTH,EAAM,GAAKG,QAjCbH,EAAQ,CAACC,EAAKE,GAqChB,OAAOH,EAGT,IAAIoZ,EAAkB,CAAC,CAAC,KAAM,MAAO,CAAC,KAAM,MAAO,CAAC,KAAM,MAAO,CAAC,KAAM,OAoHxE,SAASrX,EAAWtE,EAAU3I,EAAa0jB,GACzC,IAAI1V,EACAuW,EACA9Y,EAAO,CAAC,KAAM,KAAM,KAAM,MAE1B9C,GACFqF,EAAiB5S,EAAOyM,IAAIc,GAAYA,EAASgC,YAAY,SAAUsD,GACrE,IAAI3Q,EAAO0C,EAAYwH,UACnB0G,EAAO5Q,EAAK6Q,iBAAiB7Q,EAAK8Q,aAAaH,KAAc,GAEjE,OAAO7S,EAAOiB,SAAS,CACrBiL,KAAM2G,GACLC,MAELqW,EAAW,IAAIpc,EAAK/M,EAAOyM,IAAI4D,GAAM,SAAUnC,EAAK/L,GAClD,MAAO,CACL+J,KAAMgC,EACN/N,KAAMyS,EAAezQ,EAAM,GAAGhC,SAE9BmoB,KAEJ1V,EAAiB,CAAC,CAChB1G,KAAM,QACN/L,KAAM,UAERgpB,EAAW,IAAIpc,EAAK6F,EAAgB0V,IAGtC,IAAIrV,EAAUjT,EAAOyM,IAAI6b,EAAQ5nB,IAAI,QAASV,EAAOkT,MAAMmV,EAAmBzjB,EAAa2I,EAAU+a,IAEjG/a,IACF0F,EAAUjT,EAAOmT,OAAOF,EAASjT,EAAOkT,MAAM6V,EAAgBxb,KAGhE,IAAI6F,EAAiB7F,EAAW,SAAUvB,EAAMsD,EAASxG,EAAWoG,GAClE,OAAOlD,EAAKuC,MAAMrI,KAAKkjB,MAAMla,EAAW,IAAIA,EAAW,IACrD,SAAUlD,GACZ,OAAOA,EAAKK,OAId,OAFA8c,EAAS9V,SAASJ,EAAS,KAAMG,GACjC+V,EAASpiB,eAAgB,EAClBoiB,EA5JThc,EAAW/F,OAAO,CAChBjH,KAAM,WAkBNyQ,gBAAiB,SAAUyY,EAAe/oB,EAASuP,GACjDvP,EAAQsL,YAAW,SAAUhH,GAC3B,IAAI0jB,EAAU1jB,EAAYykB,cAE1B,GAAIf,EAAS,CACX,IAAIa,EAAWb,EAAQlc,UACvB+c,EAASpd,MAAK,SAAU5J,GACtB,IAAIme,EAAStgB,EAAOyM,IAAIyc,GAAiB,SAAUhb,GACjD,OAAO8a,EAAwBG,EAAUhnB,EAAK+L,EAAKtJ,EAAaiL,MAGlEsZ,EAASxY,cAAcxO,EAAKme,GAC5B,IAAI/N,EAAK4W,EAAS7K,iBAAiBnc,GACnCoQ,EAAG+W,SAAS,SAAUhJ,SAGzB/f,OAELgR,aAAc,SAAU3M,EAAa0jB,EAAShoB,EAASuP,GACrD,IAAItC,EAAW3I,EAAY9D,iBACvB0Q,EAAW5M,EAAYyM,GACvBI,EAAa7M,EAAYwH,UACzBmd,EAAehpB,KAAK6Q,eACpBoY,EAAeD,EAAa7oB,IAAI8Q,IAAa+X,EAAa3X,IAAIJ,EAAU,CAC1EhR,MAAO,IAAIP,EAAQoC,QAErB9B,KAAKC,MAAMG,IAAI6oB,EAAahpB,OAC5BgpB,EAAa7W,QAAS,EACtB,IAAIwW,EAAWtX,EAAWtE,EAAU3I,EAAa0jB,GAEjDA,EAAQzb,QAAQsc,GAEhBA,EAASpd,MAAK,SAAU5J,GAEtBgnB,EAASxY,cAAcxO,EAAKnC,EAAOyM,IAAIyc,GAAiB,SAAUhb,GAChE,OAAO8a,EAAwBG,EAAUhnB,EAAK+L,EAAKtJ,EAAaiL,OAGlEsZ,EAAShX,cAAchQ,EAAK,CAC1BqB,MAAOiO,EAAWW,UAAU,cAGhC+W,EAASnK,KAAKwK,EAAaC,QAAQ9oB,KAAI,SAAUwB,GAC/C,IAAIunB,EAAU,IAAIzpB,EAAQ0pB,QAAQ,CAChC9oB,MAAO,CACLyf,OAAQ6I,EAAShY,cAAchP,MAGnCgnB,EAASpL,iBAAiB5b,EAAKunB,GAC/BF,EAAahpB,MAAMG,IAAI+oB,MACtBtS,QAAO,SAAUgH,EAAQD,GAC1B,IAAIuL,EAAUF,EAAaC,OAAOnL,iBAAiBH,GAEnDle,EAAQ8E,YAAY2kB,EAAS,CAC3B7oB,MAAO,CACLyf,OAAQ6I,EAAShY,cAAciN,KAEhCkK,EAASlK,GACZoL,EAAahpB,MAAMG,IAAI+oB,GACvBP,EAASpL,iBAAiBK,EAAQsL,MACjCnL,QAAO,SAAUpc,GAClB,IAAIunB,EAAUF,EAAaC,OAAOnL,iBAAiBnc,GAEnDqnB,EAAahpB,MAAM+d,OAAOmL,MACzBzK,UACHkK,EAAS7W,mBAAkB,SAAUoX,EAASvnB,GAC5C,IAAI6E,EAAYmiB,EAASliB,aAAa9E,GAClCwE,EAAaK,EAAUE,SAAS,SAChC0iB,EAAkB5iB,EAAUE,SAAS,kBACrC1D,EAAQ2lB,EAASvmB,cAAcT,EAAK,SACxCunB,EAAQrjB,SAASrG,EAAOiB,SAAS+F,EAAUE,SAAS,aAAa/F,eAAgB,CAC/ED,KAAMknB,EAAUyB,YAAYrmB,EAAO,IACnCmgB,OAAQngB,KAEVkmB,EAAQnhB,WAAavB,EAAUE,SAAS,sBAAsB/F,eAC9DlB,EAAQgI,cAAcyhB,EAAQ1oB,MAAO0oB,EAAQnhB,WAAY5B,EAAYijB,EAAiB,CACpF1hB,aAAcogB,EACdngB,eAAgBhG,EAChBiG,YAAa+gB,EAASnhB,QAAQ7F,IAAQ,GACtCkG,YAAY,EACZC,UAAW9E,IAEbvD,EAAQwI,cAAcihB,EAAS,IAC/BA,EAAQhX,UAAY4V,KAEtBkB,EAAaC,OAASN,EACtBK,EAAahpB,MAAMY,OAASknB,EAAQ5nB,IAAI,WAAakE,EAAYlE,IAAI,c,uBCtPzE,EAAQ,QAER,IAAI8S,EAAiB,EAAQ,QAsBzBxK,EAAWwK,EAAepM,OAAO,CACnCjH,KAAM,OACN2K,aAAc,CAAC,QAAS,SACxBgf,WAAY,MAKZhpB,iBAAkB,KAClB0I,cAAe,CACbK,MAAM,EACNtF,OAAQ,EACRC,EAAG,EACHsV,KAAM,MACNE,IAAK,GACLD,MAAO,MACPE,OAAQ,GAER8P,cAAc,EAGdC,gBAAiB,gBACjBzW,YAAa,EACb0W,YAAa,UAIjBhhB,EAAOC,QAAUF,G,uBCnDjB,IAAIhJ,EAAS,EAAQ,QAEjBgN,EAAa,EAAQ,QAErBI,EAAmB,EAAQ,QAE3Bga,EAAqBha,EAAiBga,mBAoBtCxS,EAAU5U,EAAO4U,QAErB,SAASsV,EAAQle,GACf,QAAS+C,MAAMob,WAAWne,EAAKsE,KAAOvB,MAAMob,WAAWne,EAAKuE,KAG9D,SAAS6Z,EAASpe,GAChB,OAAQ+C,MAAMob,WAAWne,EAAKsE,MAAQvB,MAAMob,WAAWne,EAAKuE,IAyB9D,SAAS8Z,EAA+B5c,EAAQvL,EAAMooB,EAAcC,EAAeC,EAAiBC,GAClG,IAAIC,EAAW,GACXC,EAAUvD,EAAmBllB,EAAMqoB,GAGnCK,EAAcD,EAAUzoB,EAAKylB,mBAAmB,wBAA0B4C,EAC1Ele,EAAQ2B,EAAa9L,EAAM0oB,EAAand,GACxC3E,EAAY5G,EAAK2oB,iBAAiBD,EAAave,GAAO,GAC1Dqe,EAASF,GAAmBtoB,EAAKxB,IAAI4pB,EAAcxhB,GACnD4hB,EAASD,GAAoBvoB,EAAKxB,IAAI6pB,EAAezhB,GAErD,IAAIY,EAAYsD,EAAW8d,aAAa5oB,EAAKxB,IAAI6pB,EAAezhB,IAOhE,OANAY,EAAYxD,KAAKwI,IAAIhF,EAAW,IAE5BA,GAAa,IACfghB,EAASD,IAAqBC,EAASD,GAAkBhc,QAAQ/E,IAG5DghB,EAGT,IAAIxX,EAAQlT,EAAOkT,MAEf6X,EAAuB,CAOzBrc,IAAKwE,EAAMmX,EAAgC,OAQ3ClkB,IAAK+M,EAAMmX,EAAgC,OAQ3CW,QAAS9X,EAAMmX,EAAgC,YAYjD,SAAS1b,EAAc/J,EAAaoH,GAClC,IAAI9J,EAAO0C,EAAYwH,UACnBmB,EAAW3I,EAAY9D,iBAK3B,GAAIkL,IAASoe,EAASpe,KAAUhM,EAAOwM,QAAQR,EAAKuC,QAAUhB,EAAU,CACtE,IAAI8C,EAAO9C,EAASgC,WAChB1B,EAAWC,EAAY9B,EAAM9J,EAAMqL,EAAU3I,GAKjD,GAFAoH,EAAOhM,EAAOqO,MAAMrC,GAEhBA,EAAK7L,MAAQ4qB,EAAqB/e,EAAK7L,OAAS0N,EAASoN,UAAYpN,EAASH,UAAW,CAC3F,IAAI8c,EAAkB5V,EAAQvE,EAAMxC,EAASoN,SAAS/M,KAClDuc,EAAmB7V,EAAQvE,EAAMxC,EAASH,UAAUQ,KACxDlC,EAAKuC,MAAQwc,EAAqB/e,EAAK7L,MAAM+B,EAAM2L,EAASod,YAAapd,EAASE,aAAcyc,EAAiBC,GAEjHze,EAAKK,MAAQL,EAAKuC,MAAMkc,OACnB,CAIL,IAFA,IAAIlc,EAAQ,CAAe,MAAdvC,EAAKxK,MAAgBwK,EAAKxK,MAAQwK,EAAKkf,WAA0B,MAAdlf,EAAKvK,MAAgBuK,EAAKvK,MAAQuK,EAAKmf,WAE9FxS,EAAI,EAAGA,EAAI,EAAGA,IACjBoS,EAAqBxc,EAAMoK,MAC7BpK,EAAMoK,GAAK3K,EAAa9L,EAAMA,EAAK8Q,aAAa3C,EAAKsI,IAAKpK,EAAMoK,KAIpE3M,EAAKuC,MAAQA,GAIjB,OAAOvC,EAGT,SAAS8B,EAAY9B,EAAM9J,EAAMqL,EAAU3I,GACzC,IAAIwmB,EAAM,GAcV,OAZuB,MAAnBpf,EAAKiC,YAAuC,MAAjBjC,EAAKqf,UAClCD,EAAIrd,aAAkC,MAAnB/B,EAAKiC,WAAqB/L,EAAKopB,aAAatf,EAAKiC,YAAcjC,EAAKqf,SACvFD,EAAI1d,UAAYH,EAASI,QAAQ4d,EAAkB3mB,EAAawmB,EAAIrd,eACpEqd,EAAInQ,SAAW1N,EAAS6N,aAAagQ,EAAI1d,WACzC0d,EAAIH,YAAc/oB,EAAK8Q,aAAaoY,EAAInQ,SAAS/M,OAEjDkd,EAAInQ,SAAWrW,EAAYsW,cAC3BkQ,EAAI1d,UAAYH,EAAS6N,aAAagQ,EAAInQ,UAC1CmQ,EAAIH,YAAc/oB,EAAK8Q,aAAaoY,EAAInQ,SAAS/M,KACjDkd,EAAIrd,aAAe7L,EAAK8Q,aAAaoY,EAAI1d,UAAUQ,MAG9Ckd,EAGT,SAASG,EAAkB3mB,EAAa4mB,GACtC,IAAItpB,EAAO0C,EAAYwH,UACnBmD,EAAarN,EAAKqN,WACtBic,EAAUtpB,EAAKopB,aAAaE,GAE5B,IAAK,IAAI7S,EAAI,EAAGA,EAAIpJ,EAAWsJ,OAAQF,IAAK,CAC1C,IAAI8S,EAAUvpB,EAAK6Q,iBAAiBxD,EAAWoJ,IAE/C,GAAI8S,EAAQvf,OAASsf,EACnB,OAAOC,EAAQ5Y,UAarB,SAASnD,EAAWnC,EAAUvB,GAE5B,QAAOuB,GAAYA,EAASiC,aAAexD,EAAKuC,QAAU2b,EAAQle,KAAQuB,EAASiC,YAAYxD,EAAKuC,OAGtG,SAAS6E,EAAepH,EAAMsD,EAASxG,EAAWoG,GAEhD,OAAIA,EAAW,EACNlD,EAAKuC,OAASvC,EAAKuC,MAAMW,GAG3BlD,EAAKK,MAGd,SAAS2B,EAAa9L,EAAM6L,EAAc5N,GACxC,GAAa,YAATA,EAAoB,CACtB,IAAIurB,EAAM,EACNC,EAAQ,EAOZ,OANAzpB,EAAK6J,KAAKgC,GAAc,SAAUe,EAAK3M,GAChC4M,MAAMD,KACT4c,GAAO5c,EACP6c,QAGGD,EAAMC,EACR,MAAa,WAATxrB,EACF+B,EAAK0pB,UAAU7d,GAGf7L,EAAK2pB,cAAc9d,GAAc,GAAe,QAAT5N,EAAiB,EAAI,GAIvE+I,EAAQyF,cAAgBA,EACxBzF,EAAQ4E,YAAcA,EACtB5E,EAAQwG,WAAaA,EACrBxG,EAAQkK,eAAiBA,EACzBlK,EAAQ8E,aAAeA,G,uBCtOvB,IAAIjO,EAAU,EAAQ,QAEtB,EAAQ,QAER,EAAQ,QAoBRA,EAAQuB,sBAAqB,SAAUyG,GAErCA,EAAI+jB,SAAW/jB,EAAI+jB,UAAY,O,uBC1BjC,IAAI9rB,EAAS,EAAQ,QAEjB8c,EAAc,EAAQ,QAEtBtJ,EAAiB,EAAQ,QAEzBqB,EAAU,EAAQ,QAElBkX,EAAkBlX,EAAQkX,gBAC1BC,EAAmBnX,EAAQmX,iBAE3BC,EAAc,EAAQ,QAqBtBC,EAAa,CAAC,QAAS,WAAY,OAAQ,OAS/C,SAASljB,EAASmjB,EAAUC,EAAoBC,EAAmBC,GACjEtsB,EAAO+L,KAAKmgB,GAAY,SAAU/T,GAChCiU,EAAmBhlB,OAAO,CAIxBjH,KAAMgsB,EAAW,QAAUhU,EAC3BlN,qBAAsB,SAAU1J,EAAQjB,GACtC,IAAIwpB,EAAavpB,KAAKupB,WAClByC,EAAsBzC,EAAaiC,EAAgBxqB,GAAU,GAC7DirB,EAAalsB,EAAQmsB,WACzBzsB,EAAO4O,MAAMrN,EAAQirB,EAAW9rB,IAAIyX,EAAW,SAC/CnY,EAAO4O,MAAMrN,EAAQhB,KAAKmsB,oBAC1BnrB,EAAOpB,KAAOksB,EAAkBF,EAAU5qB,GAEtCuoB,GACFkC,EAAiBzqB,EAAQgrB,EAAqBzC,IAOlD6C,cAAe,WACb,IAAIC,EAAarsB,KAAKgB,OAEE,aAApBqrB,EAAWzsB,OACbI,KAAKssB,cAAgBZ,EAAYa,kBAAkBvsB,QAQvDwsB,cAAe,SAAUC,GACvB,IAAIzrB,EAAShB,KAAKgB,OAGlB,GAAoB,aAAhBA,EAAOpB,KACT,OAAI6sB,EACKzrB,EAAOW,KAGT3B,KAAKssB,cAAcI,YAG9BC,eAAgB,WACd,OAAO3sB,KAAKssB,eAEdrjB,cAAexJ,EAAO4oB,SAAS,CAAC,GAAI9L,EAAY3E,EAAW,QAASmU,IAAqB,QAG7F9Y,EAAe2Z,yBAAyBhB,EAAW,OAAQnsB,EAAOkT,MAAMmZ,EAAmBF,IAG7FljB,EAAOC,QAAUF,G,qBCjGjB,IAAIjJ,EAAU,EAAQ,QAElBqtB,EAAa,EAAQ,QAErBC,EAAkB,EAAQ,QAE1BC,EAAe,EAAQ,QAoB3BvtB,EAAQwtB,gBAAgB,CACtBptB,KAAM,UACNC,OAAQ,SAAUwE,EAAatE,EAASuP,GACtC,IAAI3N,EAAO0C,EAAYwH,UAEnBohB,EAAajtB,KAAKktB,kBAAkBvrB,EAAM0C,GAE9C4oB,EAAWjrB,WAAWL,EAAM,CAK1BwrB,UAAWntB,KAAKotB,cAAc/oB,KAEhCrE,KAAKqtB,WAAY,GAEnBC,yBAA0B,SAAUjpB,EAAatE,EAASuP,GACxD,IAAI3N,EAAO0C,EAAYwH,UAEnBohB,EAAajtB,KAAKktB,kBAAkBvrB,EAAM0C,GAE9C4oB,EAAWtO,yBAAyBhd,GACpC3B,KAAKqtB,WAAY,GAEnBE,kBAAmB,SAAUzO,EAAYza,EAAatE,GACpDC,KAAKwtB,YAAY3O,kBAAkBC,EAAYza,EAAYwH,UAAW,CACpEshB,UAAWntB,KAAKotB,cAAc/oB,KAGhCrE,KAAKqtB,UAAYvO,EAAWI,MAAQ7a,EAAYwH,UAAUuf,SAE5D/a,gBAAiB,SAAUhM,EAAatE,EAASuP,GAC/C,IAAI3N,EAAO0C,EAAYwH,UAKvB,GAFA7L,KAAKC,MAAMskB,SAENvkB,KAAKqtB,WAAa1rB,EAAKypB,QAAU,MAAQprB,KAAKwtB,YAAYjP,eAC7D,MAAO,CACL1H,QAAQ,GAGV,IAAI4W,EAAMV,IAAenH,MAAMvhB,GAE3BopB,EAAIpG,UACNoG,EAAIpG,SAAS,CACXpI,MAAO,EACPC,IAAKvd,EAAKypB,SACTzpB,GAGL3B,KAAKwtB,YAAYzc,aAAapP,IAGlCyrB,cAAe,SAAU/oB,GACvB,IAAI2I,EAAW3I,EAAY9D,iBACvBmtB,EAAW1gB,GAAYA,EAAS2gB,SAAW3gB,EAAS2gB,UACxD,OAAOtpB,EAAYlE,IAAI,QAAQ,GAAQutB,EAAW,MAEpDR,kBAAmB,SAAUvrB,EAAM0C,GACjC,IAAI4oB,EAAajtB,KAAKwtB,YAClBzG,EAAkB1iB,EAAY0iB,gBAC9B6G,EAAc7G,EAAgBE,MAUlC,OARKgG,GAAcW,IAAgB5tB,KAAK6tB,eACtCZ,GAAcA,EAAWjP,SACzBiP,EAAajtB,KAAKwtB,YAAcI,EAAc,IAAId,EAAoB,IAAID,EAC1E7sB,KAAK6tB,aAAeD,EACpB5tB,KAAKC,MAAMC,aAGbF,KAAKC,MAAMG,IAAI6sB,EAAWhtB,OACnBgtB,GAETjP,OAAQ,SAAUje,EAASuP,GACzBtP,KAAKwtB,aAAextB,KAAKwtB,YAAYxP,QAAO,GAC5Che,KAAKwtB,YAAc,MAErBM,QAAS,gB,qBCxGX,EAAQ,QAER,EAAQ,S,qBCFR,IAAIC,EAAgB,EAAQ,QAExBC,EAAmBD,EAAcC,iBA0BrC,SAASvsB,EAAgBE,EAAM4G,GAC7B,IAAI0lB,EAAYtsB,EAAK8Q,aAAa,kBAAkB,GAChDyb,EAAMD,EAAU3V,OAEpB,GAAY,IAAR4V,EACF,OAAOF,EAAiBrsB,EAAM4G,EAAW0lB,EAAU,IAC9C,GAAIC,EAAK,CAGd,IAFA,IAAIC,EAAO,GAEF/V,EAAI,EAAGA,EAAI6V,EAAU3V,OAAQF,IAAK,CACzC,IAAI7J,EAAMyf,EAAiBrsB,EAAM4G,EAAW0lB,EAAU7V,IACtD+V,EAAKlU,KAAK1L,GAGZ,OAAO4f,EAAKhiB,KAAK,MAIrBxD,EAAQlH,gBAAkBA,G,qBC9C1B,IAAI/B,EAAU,EAAQ,QAElB0B,EAAU,EAAQ,QAElBC,EAAeD,EAAQC,aAEvB+sB,EAAyB,EAAQ,QAuBjCC,EAAuB,EACvBC,EAAkB5uB,EAAQmlB,YAAY,CACxCvkB,MAAO,CACLyf,OAAQ,MAEVwO,YAAa,KACbC,cAAe,KACf1J,UAAW,SAAU2J,EAAMnuB,GACzB,IAAIyf,EAASzf,EAAMyf,OACf2O,EAAOpuB,EAAMouB,KACbH,EAAcvuB,KAAKuuB,YACnBI,EAAmBJ,EAAYjuB,MAC/BykB,EAAM0J,EAAKG,WAAaH,EAAKG,aAAeH,EAC5CI,EAAW9J,GAAO2J,EAAK,GAAKL,EAEhC,IAAIQ,EAIJ,IAAK,IAAIzW,EAAI,EAAGA,EAAI2H,EAAOzH,QAAS,CAClC,IAAIvI,EAAIgQ,EAAO3H,KACXpI,EAAI+P,EAAO3H,KAEX5J,MAAMuB,IAAMvB,MAAMwB,KAIlBhQ,KAAKwuB,gBAAkBxuB,KAAKwuB,cAAcM,QAAQ/e,EAAGC,KAIzD2e,EAAiB5e,EAAIA,EAAI2e,EAAK,GAAK,EACnCC,EAAiB3e,EAAIA,EAAI0e,EAAK,GAAK,EACnCC,EAAiBjlB,MAAQglB,EAAK,GAC9BC,EAAiBxX,OAASuX,EAAK,GAC/BH,EAAYzJ,UAAU2J,EAAME,GAAkB,OAGlDI,WAAY,SAAUhK,GACpB,IAAIzkB,EAAQN,KAAKM,MACbyf,EAASzf,EAAMyf,OACf2O,EAAOpuB,EAAMouB,KACbG,EAAWH,EAAK,GAAKL,EAEzB,GAAKQ,EAAL,CAIA7uB,KAAKgvB,aAAajK,GAElB,IAAK,IAAI3M,EAAI,EAAGA,EAAI2H,EAAOzH,QAAS,CAClC,IAAIvI,EAAIgQ,EAAO3H,KACXpI,EAAI+P,EAAO3H,KAEX5J,MAAMuB,IAAMvB,MAAMwB,KAIlBhQ,KAAKwuB,gBAAkBxuB,KAAKwuB,cAAcM,QAAQ/e,EAAGC,IAMzD+U,EAAIkK,SAASlf,EAAI2e,EAAK,GAAK,EAAG1e,EAAI0e,EAAK,GAAK,EAAGA,EAAK,GAAIA,EAAK,KAG/D1uB,KAAKkvB,iBAAiBnK,KAExBoK,cAAe,SAAUpf,EAAGC,GAW1B,IARA,IAAI1P,EAAQN,KAAKM,MACbyf,EAASzf,EAAMyf,OACf2O,EAAOpuB,EAAMouB,KACbU,EAAIzpB,KAAKC,IAAI8oB,EAAK,GAAI,GACtBW,EAAI1pB,KAAKC,IAAI8oB,EAAK,GAAI,GAIjB9sB,EAAMme,EAAOzH,OAAS,EAAI,EAAG1W,GAAO,EAAGA,IAAO,CACrD,IAAIwW,EAAU,EAANxW,EACJ0mB,EAAKvI,EAAO3H,GAAKgX,EAAI,EACrB7G,EAAKxI,EAAO3H,EAAI,GAAKiX,EAAI,EAE7B,GAAItf,GAAKuY,GAAMtY,GAAKuY,GAAMxY,GAAKuY,EAAK8G,GAAKpf,GAAKuY,EAAK8G,EACjD,OAAOztB,EAIX,OAAQ,KAIZ,SAASkrB,IACP9sB,KAAKC,MAAQ,IAAIP,EAAQoC,MAG3B,IAAIwtB,EAAmBxC,EAAgB5qB,UAEvCotB,EAAiB/Q,aAAe,WAC9B,OAAQve,KAAKof,cAUfkQ,EAAiBttB,WAAa,SAAUL,EAAM6F,GAC5CxH,KAAKC,MAAMC,YACX,IAAIqvB,EAAW,IAAIjB,EAAgB,CACjCkB,WAAW,EACXprB,OAAQ,YAEVmrB,EAASxG,SAAS,CAChBhJ,OAAQpe,EAAK8tB,UAAU,kBAGzBzvB,KAAK0vB,WAAWH,EAAU5tB,GAAM,EAAO6F,GAEvCxH,KAAKC,MAAMG,IAAImvB,GACfvvB,KAAKof,aAAe,MAGtBkQ,EAAiBve,aAAe,SAAUpP,GACxC,IAAI3B,KAAKof,aAAT,CAIA,IAAIW,EAASpe,EAAK8tB,UAAU,gBAC5BzvB,KAAKC,MAAM0vB,WAAU,SAAUzd,GAC7B,GAAwB,MAApBA,EAAM0d,WAAoB,CAC5B,IAAI1B,EAA4C,GAArChc,EAAM2d,SAAW3d,EAAM0d,YAC9BE,EAAgC,EAAnB5d,EAAM0d,WAAiB,EACxC7P,EAAS,IAAIwH,aAAaxH,EAAOgQ,OAAQD,EAAY5B,GAGvDhc,EAAM6W,SAAS,SAAUhJ,QAI7BuP,EAAiB3Q,yBAA2B,SAAUhd,GACpD3B,KAAKC,MAAMC,YAEXF,KAAKmf,oBAIDxd,EAAKypB,QAAU,KACZprB,KAAKof,eACRpf,KAAKof,aAAe,IAAIgP,EAAuB,CAC7CvtB,QAAQ,KAIZb,KAAKC,MAAMG,IAAIJ,KAAKof,eAEpBpf,KAAKof,aAAe,MAIxBkQ,EAAiBzQ,kBAAoB,SAAUC,EAAYnd,EAAM6F,GAC/D,IAAI+nB,EAEAvvB,KAAKof,cACPmQ,EAAW,IAAIjB,EAEftuB,KAAKof,aAAa4Q,eAAeT,GAAU,KAE3CA,EAAW,IAAIjB,EAAgB,CAC7BkB,WAAW,EACXprB,OAAQ,UACRwrB,WAAY9Q,EAAWG,MACvB4Q,SAAU/Q,EAAWI,MAEvBqQ,EAASjqB,aAAc,EACvBtF,KAAKC,MAAMG,IAAImvB,IAGjBA,EAASxG,SAAS,CAChBhJ,OAAQpe,EAAK8tB,UAAU,kBAGzBzvB,KAAK0vB,WAAWH,EAAU5tB,IAAQ3B,KAAKof,aAAc5X,IAGvD8nB,EAAiBI,WAAa,SAAUH,EAAU5tB,EAAMsuB,EAAezoB,GACrE,IAAIlD,EAAY3C,EAAK2C,UACrBkD,EAAMA,GAAO,GAYb,IAAIknB,EAAO/sB,EAAKkQ,UAAU,cAC1B0d,EAASxG,SAAS,OAAQ2F,aAAgBpsB,MAAQosB,EAAO,CAACA,EAAMA,IAEhEa,EAASf,cAAgBhnB,EAAI2lB,WAAa,KAE1CoC,EAAShB,YAAcltB,EAAaM,EAAKkQ,UAAU,UAAW,EAAG,EAAG,EAAG,GAEvE0d,EAASvoB,SAAWuoB,EAAShB,YAAYvnB,SACzC,IAAIkpB,EAAgBX,EAASjvB,MAAMouB,KAAK,GAAKL,EAC7CkB,EAASzpB,SACTxB,EAAUqC,SAAS,aAAa/F,aAAasvB,EAAgB,CAAC,QAAS,aAAc,eAAiB,CAAC,WACvG,IAAIjN,EAActhB,EAAKkQ,UAAU,SAE7BoR,GACFsM,EAASvoB,SAASic,GAGfgN,IAGHV,EAAS7jB,YAAcpH,EAAUoH,YACjC6jB,EAASY,GAAG,aAAa,SAAUC,GACjCb,EAAShnB,UAAY,KACrB,IAAIA,EAAYgnB,EAASJ,cAAciB,EAAEC,QAASD,EAAEE,SAEhD/nB,GAAa,IAEfgnB,EAAShnB,UAAYA,GAAagnB,EAASK,YAAc,SAMjEN,EAAiBtR,OAAS,WACxBhe,KAAKmf,oBAELnf,KAAKof,aAAe,KACpBpf,KAAKC,MAAMC,aAGbovB,EAAiBnQ,kBAAoB,WACnC,IAAI7Z,EAActF,KAAKof,aAEnB9Z,GACFA,EAAY+Z,oBAIhB,IAAI5W,EAAWqkB,EACfpkB,EAAOC,QAAUF,G,qBCzRjB,IAAI8nB,EAAsB,EAAQ,QAE9BC,EAAc,EAAQ,QAoBtB/nB,EAAW+nB,EAAY3pB,OAAO,CAChCjH,KAAM,iBACN2K,aAAc,CAAC,OAAQ,QAAS,MAAO,aAAc,YACrDkmB,eAAgB,SAAUzvB,EAAQjB,GAChC,OAAOwwB,EAAoBvwB,KAAK0wB,YAAa1wB,OAE/C2wB,cAAe,QACfC,eAAgB,WACd,IAAIC,EAAc7wB,KAAKgB,OAAO6vB,YAE9B,OAAmB,MAAfA,EAEK7wB,KAAKgB,OAAOimB,MAAQ,IAAMjnB,KAAKG,IAAI,eAGrC0wB,GAETC,wBAAyB,WACvB,IAAIC,EAAuB/wB,KAAKgB,OAAO+vB,qBAEvC,OAA4B,MAAxBA,EAEK/wB,KAAKgB,OAAOimB,MAAQ,IAAMjnB,KAAKG,IAAI,wBAGrC4wB,GAET9nB,cAAe,CACb1I,iBAAkB,cAClByD,OAAQ,EACRC,EAAG,EACH+sB,iBAAiB,EACjB1qB,gBAAgB,EAShBlE,WAAY,GAGZ6kB,OAAO,EAEPgK,eAAgB,IAUhBjrB,UAAW,CACTpB,QAAS,IAKXssB,MAAM,KAKVxoB,EAAOC,QAAUF,G,qBCzFjB,IAAIhJ,EAAS,EAAQ,QAEjB0xB,EAAe,EAAQ,QAEvBC,EAAY,EAAQ,QAmCxB,SAASvc,EAAYlJ,GACnBylB,EAAUrvB,KAAK/B,KAAM2L,GAGvBkJ,EAAY3S,UAAY,CACtBgJ,YAAa2J,EACbjV,KAAM,cAMNoP,WAAY,CAAC,IAAK,KAOlB2L,YAAa,WACX,OAAO3a,KAAKqxB,eAAe,WAAW,IAAMrxB,KAAKqxB,eAAe,QAAQ,IAAMrxB,KAAKoN,QAAQ,MAQ7FiM,aAAc,SAAU9J,GACtB,IAAI+hB,EAAQtxB,KAAKoN,QAAQ,KACrBmkB,EAAQvxB,KAAKoN,QAAQ,KACzB,OAAOkkB,EAAMxC,QAAQwC,EAAM5a,aAAanH,EAAM,MAAQgiB,EAAMzC,QAAQyC,EAAM7a,aAAanH,EAAM,MAQ/FN,YAAa,SAAUtN,GACrB,OAAO3B,KAAKoN,QAAQ,KAAK6B,YAAYtN,EAAK,KAAO3B,KAAKoN,QAAQ,KAAK6B,YAAYtN,EAAK,KAQtFsO,YAAa,SAAUtO,EAAM6vB,EAAUC,GACrC,IAAIxwB,EAAQjB,KAAKoN,QAAQ,KACrBlM,EAAQlB,KAAKoN,QAAQ,KAIzB,OAHAqkB,EAAMA,GAAO,GACbA,EAAI,GAAKxwB,EAAMiP,cAAcjP,EAAM2X,YAAYjX,EAAK,KACpD8vB,EAAI,GAAKvwB,EAAMgP,cAAchP,EAAM0X,YAAYjX,EAAK,KAC7C8vB,GAQT/I,UAAW,SAAU/mB,EAAM8vB,GACzB,IAAIC,EAAS1xB,KAAKoN,QAAQ,KAAK/J,MAC3BsuB,EAAS3xB,KAAKoN,QAAQ,KAAK/J,MAC3BuuB,EAAcF,EAAOvhB,YACrB0hB,EAAcF,EAAOxhB,YACrBJ,EAAI2hB,EAAOI,MAAMnwB,EAAK,IACtBqO,EAAI2hB,EAAOG,MAAMnwB,EAAK,IAI1B,OAHA8vB,EAAMA,GAAO,GACbA,EAAI,GAAK9rB,KAAKwI,IAAIxI,KAAKC,IAAID,KAAKwI,IAAIyjB,EAAY,GAAIA,EAAY,IAAK7hB,GAAIpK,KAAKC,IAAIgsB,EAAY,GAAIA,EAAY,KAC9GH,EAAI,GAAK9rB,KAAKwI,IAAIxI,KAAKC,IAAID,KAAKwI,IAAI0jB,EAAY,GAAIA,EAAY,IAAK7hB,GAAIrK,KAAKC,IAAIisB,EAAY,GAAIA,EAAY,KACvGJ,GAQT3Y,YAAa,SAAUvJ,EAAOkiB,GAC5B,IAAIxwB,EAAQjB,KAAKoN,QAAQ,KACrBlM,EAAQlB,KAAKoN,QAAQ,KAIzB,OAHAqkB,EAAMA,GAAO,GACbA,EAAI,GAAKxwB,EAAM8X,YAAY9X,EAAMyV,aAAanH,EAAM,KACpDkiB,EAAI,GAAKvwB,EAAM6X,YAAY7X,EAAMwV,aAAanH,EAAM,KAC7CkiB,GAOT5W,aAAc,SAAUxH,GACtB,OAAOrT,KAAKoN,QAAqB,MAAbiG,EAAK1F,IAAc,IAAM,MAQ/CggB,QAAS,WACP,IAAIoE,EAAU/xB,KAAKoN,QAAQ,KAAK4kB,kBAC5BC,EAAUjyB,KAAKoN,QAAQ,KAAK4kB,kBAC5BjiB,EAAIpK,KAAKwI,IAAI4jB,EAAQ,GAAIA,EAAQ,IACjC/hB,EAAIrK,KAAKwI,IAAI8jB,EAAQ,GAAIA,EAAQ,IACjCvoB,EAAQ/D,KAAKC,IAAImsB,EAAQ,GAAIA,EAAQ,IAAMhiB,EAC3CoH,EAASxR,KAAKC,IAAIqsB,EAAQ,GAAIA,EAAQ,IAAMjiB,EAC5CkiB,EAAO,IAAIf,EAAaphB,EAAGC,EAAGtG,EAAOyN,GACzC,OAAO+a,IAGXzyB,EAAO+I,SAASqM,EAAauc,GAC7B,IAAI3oB,EAAWoM,EACfnM,EAAOC,QAAUF,G,qBC1JjB,IAAIhJ,EAAS,EAAQ,QA0BrB,SAAS0yB,EAAcxkB,GACrB,OAAO3N,KAAKoyB,MAAMzkB,GAQpB,IAAIyjB,EAAY,SAAUzlB,GACxB3L,KAAKoyB,MAAQ,GACbpyB,KAAKqyB,SAAW,GAKhBryB,KAAK2L,KAAOA,GAAQ,IAGtBylB,EAAUlvB,UAAY,CACpBgJ,YAAakmB,EACbxxB,KAAM,YAONwN,QAAS,SAAUO,GACjB,OAAO3N,KAAKoyB,MAAMzkB,IAOpBoK,QAAS,WACP,OAAOtY,EAAOyM,IAAIlM,KAAKqyB,SAAUF,EAAenyB,OAMlDqxB,eAAgB,SAAUiB,GAExB,OADAA,EAAYA,EAAUC,cACf9yB,EAAOmT,OAAO5S,KAAK+X,WAAW,SAAU1E,GAC7C,OAAOA,EAAKhQ,MAAMzD,OAAS0yB,MAQ/BpY,QAAS,SAAU7G,GACjB,IAAI1F,EAAM0F,EAAK1F,IACf3N,KAAKoyB,MAAMzkB,GAAO0F,EAElBrT,KAAKqyB,SAASpY,KAAKtM,IAQrBiL,YAAa,SAAUrK,GACrB,OAAOvO,KAAKwyB,kBAAkBjkB,EAAK,gBAQrCwK,YAAa,SAAUxK,GACrB,OAAOvO,KAAKwyB,kBAAkBjkB,EAAK,gBAErCikB,kBAAmB,SAAUC,EAAOC,GAIlC,IAHA,IAAIC,EAAU3yB,KAAKqyB,SACfO,EAASH,aAAiBnwB,MAAQ,GAAK,GAElC8V,EAAI,EAAGA,EAAIua,EAAQra,OAAQF,IAAK,CACvC,IAAIzK,EAAMglB,EAAQva,GACd/E,EAAOrT,KAAKoyB,MAAMzkB,GACtBilB,EAAOjlB,GAAO0F,EAAKqf,GAAQD,EAAM9kB,IAGnC,OAAOilB,IAGX,IAAInqB,EAAW2oB,EACf1oB,EAAOC,QAAUF,G,qBCtHjB,IAAIhJ,EAAS,EAAQ,QAEjBozB,EAAO,EAAQ,QA+Bf/d,EAAS,SAAUnH,EAAKtK,EAAOyvB,EAAalb,EAAUrO,GACxDspB,EAAK9wB,KAAK/B,KAAM2N,EAAKtK,EAAOyvB,GAU5B9yB,KAAKJ,KAAOgY,GAAY,QASxB5X,KAAKuJ,SAAWA,GAAY,UAG9BuL,EAAO5S,UAAY,CACjBgJ,YAAa4J,EAKblB,MAAO,EAQPkC,gBAAiB,KAMjBN,MAAO,KACP8B,aAAc,WACZ,IAAI/N,EAAWvJ,KAAKuJ,SACpB,MAAoB,QAAbA,GAAmC,WAAbA,GAW/ByoB,gBAAiB,SAAUe,GACzB,IAAIlI,EAAM7qB,KAAKmQ,YAIf,OAHA0a,EAAI,GAAK7qB,KAAKkQ,cAAc2a,EAAI,IAChCA,EAAI,GAAK7qB,KAAKkQ,cAAc2a,EAAI,IAChCkI,GAAOlI,EAAI,GAAKA,EAAI,IAAMA,EAAImI,UACvBnI,GAEThQ,aAAc,WACZ7a,KAAKmB,KAAK0Z,gBAMZ/B,YAAa,SAAUvJ,EAAO0jB,GAC5B,OAAOjzB,KAAK+Y,YAAY/Y,KAAK0W,aAAanH,EAAmB,MAAbvP,KAAK2N,IAAc,EAAI,IAAKslB,IAS9Evc,aAAc,KAQdxG,cAAe,MAEjBzQ,EAAO+I,SAASsM,EAAQ+d,GACxB,IAAIpqB,EAAWqM,EACfpM,EAAOC,QAAUF,G,qBC9HjB,IAAIhJ,EAAS,EAAQ,QAEjBC,EAAU,EAAQ,QAElBwzB,EAAc,EAAQ,SAEtBC,EAAW,EAAQ,QAEnBC,EAAsB,EAAQ,QAoB9BC,EAAmB,CAAC,WAAY,gBAAiB,YACjDC,EAAmB,CAAC,YAAa,aAQjCC,EAAoBJ,EAAStsB,OAAO,CACtCjH,KAAM,gBACN4zB,iBAAkB,uBAKlB3zB,OAAQ,SAAUoV,EAAWlV,EAASuP,EAAKmkB,GACzCzzB,KAAKC,MAAMC,YACX,IAAIwzB,EAAe1zB,KAAK2zB,WAIxB,GAHA3zB,KAAK2zB,WAAa,IAAIj0B,EAAQoC,MAC9B9B,KAAKC,MAAMG,IAAIJ,KAAK2zB,YAEf1e,EAAU9U,IAAI,QAAnB,CAIA,IAAIL,EAAYmV,EAAUvB,mBACtBkgB,EAASR,EAAoBQ,OAAO9zB,EAAWmV,GAC/C4e,EAAc,IAAIX,EAAYje,EAAW2e,GAC7Cn0B,EAAO+L,KAAK6nB,EAAkBQ,EAAYzzB,IAAKyzB,GAE/C7zB,KAAK2zB,WAAWvzB,IAAIyzB,EAAYC,YAEhCr0B,EAAO+L,KAAK8nB,GAAkB,SAAU3nB,GAClCsJ,EAAU9U,IAAIwL,EAAO,UACvB3L,KAAK,IAAM2L,GAAMsJ,EAAWnV,KAE7BE,MACHN,EAAQq0B,gBAAgBL,EAAc1zB,KAAK2zB,WAAY1e,GACvDse,EAAkBS,UAAUh0B,KAAM,SAAUiV,EAAWlV,EAASuP,EAAKmkB,KAEvEzV,OAAQ,WACNhe,KAAKi0B,iBAAmB,MAQ1BC,WAAY,SAAUjf,EAAWnV,GAC/B,IAAIuT,EAAO4B,EAAU5B,KAErB,IAAIA,EAAKhQ,MAAM8wB,UAAf,CAIA,IAAIC,EAAiBnf,EAAUtO,SAAS,aACpC0tB,EAAiBD,EAAeztB,SAAS,aACzC2tB,EAAaD,EAAel0B,IAAI,SACpCm0B,EAAa70B,EAAOwM,QAAQqoB,GAAcA,EAAa,CAACA,GAaxD,IAZA,IAAIrd,EAAWnX,EAAUS,iBAAiBC,UACtC8W,EAAejE,EAAKiE,eACpBid,EAAY,EACZC,EAAcnhB,EAAKohB,eAAe,CACpCC,UAAWN,IAETO,EAAK,GACLC,EAAK,GAGLprB,EAAY6qB,EAAenW,eAEtB9F,EAAI,EAAGA,EAAIoc,EAAYlc,OAAQF,IAAK,CAC3C,IAAIyc,EAAYxhB,EAAKnD,cAAcskB,EAAYpc,GAAGpK,OAE9CsJ,GACFqd,EAAG,GAAKE,EACRF,EAAG,GAAK1d,EAASjH,EACjB4kB,EAAG,GAAKC,EACRD,EAAG,GAAK3d,EAASjH,EAAIiH,EAASE,SAE9Bwd,EAAG,GAAK1d,EAASlH,EACjB4kB,EAAG,GAAKE,EACRD,EAAG,GAAK3d,EAASlH,EAAIkH,EAASvN,MAC9BkrB,EAAG,GAAKC,GAGV,IAAIC,EAAaP,IAAcD,EAAWhc,OACtCyc,EAAYP,EAAYpc,GAAG2c,UAE/B/0B,KAAK2zB,WAAWvzB,IAAI,IAAIV,EAAQ+iB,KAAK,CACnCuS,KAAmB,MAAbD,EAAoB,QAAUP,EAAYpc,GAAG2c,UAAY,KAC/D/U,kBAAkB,EAClB1f,MAAO,CACL6f,GAAIwU,EAAG,GACPvU,GAAIuU,EAAG,GACPtU,GAAIuU,EAAG,GACPtU,GAAIsU,EAAG,IAETn0B,MAAOhB,EAAOiB,SAAS,CACrB0iB,OAAQkR,EAAWQ,IAClBtrB,GACH3I,QAAQ,QAUdo0B,WAAY,SAAUhgB,EAAWnV,GAC/B,IAAIuT,EAAO4B,EAAU5B,KAErB,IAAIA,EAAKhQ,MAAM8wB,UAAf,CAIA,IAAIe,EAAiBjgB,EAAUtO,SAAS,aACpCwuB,EAAiBD,EAAevuB,SAAS,aACzCyuB,EAAaD,EAAeh1B,IAAI,SAChC8W,EAAWnX,EAAUS,iBAAiBC,UACtCg0B,EAAcnhB,EAAKohB,eAAe,CACpCC,UAAWQ,EACXjC,OAAO,IAGT,GAAKuB,EAAYlc,OAAjB,CAMA,IAAI+c,EAAgBD,EAAW9c,OAC3Bgd,EAAsBt1B,KAAKi0B,iBAC3BsB,EAAqB91B,EAAOkoB,gBAC5BmN,EAAa,EAEjB,GAAIQ,EACF,IAAK,IAAIld,EAAI,EAAGA,EAAIoc,EAAYlc,OAAQF,IAAK,CAC3C,IAAIod,EAASF,EAAoBn1B,IAAIq0B,EAAYpc,GAAG2c,WAEpD,GAAc,MAAVS,EAAgB,CAClBV,GAAcU,GAAUH,EAAgB,GAAKjd,GAAKid,EAClD,OAKN,IAAII,EAAOpiB,EAAKnD,cAAcskB,EAAY,GAAGxmB,OACzCsO,EAAY6Y,EAAeO,eAC/BN,EAAa31B,EAAOwM,QAAQmpB,GAAcA,EAAa,CAACA,GAExD,IAAShd,EAAI,EAAGA,EAAIoc,EAAYlc,OAAQF,IAAK,CAC3C,IACIrI,EACAC,EACAtG,EACAyN,EAJA0d,EAAYxhB,EAAKnD,cAAcskB,EAAYpc,GAAGpK,OAM9CqF,EAAKiE,gBACPvH,EAAI0lB,EACJzlB,EAAIiH,EAASjH,EACbtG,EAAQmrB,EAAY9kB,EACpBoH,EAASF,EAASE,OAClBse,EAAO1lB,EAAIrG,IAEXqG,EAAIkH,EAASlH,EACbC,EAAIylB,EACJ/rB,EAAQuN,EAASvN,MACjByN,EAAS0d,EAAY7kB,EACrBylB,EAAOzlB,EAAImH,GAGb,IAAI4d,EAAYP,EAAYpc,EAAI,GAAG2c,UACtB,MAAbA,GAAqBQ,EAAmBlkB,IAAI0jB,EAAWD,GAEvD90B,KAAK2zB,WAAWvzB,IAAI,IAAIV,EAAQW,KAAK,CACnC20B,KAAmB,MAAbD,EAAoB,QAAUA,EAAY,KAChDz0B,MAAO,CACLyP,EAAGA,EACHC,EAAGA,EACHtG,MAAOA,EACPyN,OAAQA,GAEV1W,MAAOhB,EAAOiB,SAAS,CACrBC,KAAMy0B,EAAWN,IAChBxY,GACHzb,QAAQ,KAGVi0B,GAAcA,EAAa,GAAKO,EAGlCr1B,KAAKi0B,iBAAmBsB,OAG5BhC,EAAkB1sB,OAAO,CACvBjH,KAAM,UAER2zB,EAAkB1sB,OAAO,CACvBjH,KAAM,W,qBCvOR,IAAIF,EAAU,EAAQ,QAElBgC,EAAY,EAAQ,QAEpByS,EAAQ,EAAQ,QAEhBC,EAAWD,EAAMC,SA8BrB,SAASyY,EAAW8I,GAClB31B,KAAKC,MAAQ,IAAIP,EAAQoC,MACzB9B,KAAK41B,YAAcD,GAAcj0B,EAGnC,IAAIm0B,EAAkBhJ,EAAW3qB,UAEjC,SAAS4zB,EAAgBn0B,EAAM4N,EAAO3N,EAAK4F,GACzC,OAAO+H,IAAUf,MAAMe,EAAM,MAAQf,MAAMe,EAAM,OAAS/H,EAAIuuB,UAAYvuB,EAAIuuB,SAASn0B,OAGlF4F,EAAI2lB,YAAc3lB,EAAI2lB,UAAU2B,QAAQvf,EAAM,GAAIA,EAAM,MAA8C,SAAtC5N,EAAKU,cAAcT,EAAK,UAoH/F,SAASo0B,EAAmBxuB,GAO1B,OANW,MAAPA,GAAgB4M,EAAS5M,KAC3BA,EAAM,CACJuuB,SAAUvuB,IAIPA,GAAO,GAkBhB,SAASyW,EAAgBtc,GACvB,IAAI0C,EAAc1C,EAAK2C,UACvB,MAAO,CACL0B,UAAW3B,EAAYsC,SAAS,aAAa/F,aAAa,CAAC,UAC3DqF,eAAgB5B,EAAYsC,SAAS,sBAAsB/F,eAC3DsF,aAAc7B,EAAYlE,IAAI,gBAC9BgG,aAAc9B,EAAYlE,IAAI,gBAC9BmG,eAAgBjC,EAAYlE,IAAI,kBAChCiG,WAAY/B,EAAYsC,SAAS,SACjCN,gBAAiBhC,EAAYsC,SAAS,kBACtCJ,YAAalC,EAAYlE,IAAI,WA5IjC01B,EAAgB7zB,WAAa,SAAUL,EAAM6F,GAC3CA,EAAMwuB,EAAmBxuB,GACzB,IAAIvH,EAAQD,KAAKC,MACboE,EAAc1C,EAAK2C,UACnB2xB,EAAUj2B,KAAKqM,MACf6pB,EAAal2B,KAAK41B,YAClB/zB,EAAcoc,EAAgBtc,GAG7Bs0B,GACHh2B,EAAMC,YAGRyB,EAAK8c,KAAKwX,GAAS71B,KAAI,SAAUyd,GAC/B,IAAItO,EAAQ5N,EAAKiP,cAAciN,GAE/B,GAAIiY,EAAgBn0B,EAAM4N,EAAOsO,EAAQrW,GAAM,CAC7C,IAAI+nB,EAAW,IAAI2G,EAAWv0B,EAAMkc,EAAQhc,GAC5C0tB,EAASpsB,KAAK,WAAYoM,GAC1B5N,EAAK6b,iBAAiBK,EAAQ0R,GAC9BtvB,EAAMG,IAAImvB,OAEX1Y,QAAO,SAAUgH,EAAQD,GAC1B,IAAI2R,EAAW0G,EAAQlY,iBAAiBH,GACpCrO,EAAQ5N,EAAKiP,cAAciN,GAE1BiY,EAAgBn0B,EAAM4N,EAAOsO,EAAQrW,IAKrC+nB,GAIHA,EAASvtB,WAAWL,EAAMkc,EAAQhc,GAClCnC,EAAQ8E,YAAY+qB,EAAU,CAC5BhmB,SAAUgG,GACTlL,KANHkrB,EAAW,IAAI2G,EAAWv0B,EAAMkc,GAChC0R,EAASpsB,KAAK,WAAYoM,IAS5BtP,EAAMG,IAAImvB,GACV5tB,EAAK6b,iBAAiBK,EAAQ0R,IAhB5BtvB,EAAM+d,OAAOuR,MAiBdvR,QAAO,SAAUJ,GAClB,IAAI5L,EAAKikB,EAAQlY,iBAAiBH,GAClC5L,GAAMA,EAAG7J,SAAQ,WACflI,EAAM+d,OAAOhM,SAEd0M,UACH1e,KAAKqM,MAAQ1K,GAGfk0B,EAAgBtX,aAAe,WAC7B,OAAO,GAGTsX,EAAgB9kB,aAAe,WAC7B,IAAIpP,EAAO3B,KAAKqM,MAEZ1K,GAEFA,EAAKoQ,mBAAkB,SAAUC,EAAIpQ,GACnC,IAAI2N,EAAQ5N,EAAKiP,cAAchP,GAC/BoQ,EAAG7O,KAAK,WAAYoM,OAK1BsmB,EAAgBlX,yBAA2B,SAAUhd,GACnD3B,KAAK4e,aAAeX,EAAgBtc,GACpC3B,KAAKqM,MAAQ,KACbrM,KAAKC,MAAMC,aAWb21B,EAAgBhX,kBAAoB,SAAUC,EAAYnd,EAAM6F,GAG9D,SAASuX,EAA0B/M,GAC5BA,EAAGgN,UACNhN,EAAG1M,YAAc0M,EAAGzM,eAAgB,GAJxCiC,EAAMwuB,EAAmBxuB,GAQzB,IAAK,IAAI5F,EAAMkd,EAAWG,MAAOrd,EAAMkd,EAAWI,IAAKtd,IAAO,CAC5D,IAAI2N,EAAQ5N,EAAKiP,cAAchP,GAE/B,GAAIk0B,EAAgBn0B,EAAM4N,EAAO3N,EAAK4F,GAAM,CAC1C,IAAIwK,EAAK,IAAIhS,KAAK41B,YAAYj0B,EAAMC,EAAK5B,KAAK4e,cAC9C5M,EAAGC,SAAS8M,GACZ/M,EAAG7O,KAAK,WAAYoM,GACpBvP,KAAKC,MAAMG,IAAI4R,GACfrQ,EAAK6b,iBAAiB5b,EAAKoQ,MAejC6jB,EAAgB7X,OAAS,SAAUmY,GACjC,IAAIl2B,EAAQD,KAAKC,MACb0B,EAAO3B,KAAKqM,MAEZ1K,GAAQw0B,EACVx0B,EAAKoQ,mBAAkB,SAAUC,GAC/BA,EAAG7J,SAAQ,WACTlI,EAAM+d,OAAOhM,SAIjB/R,EAAMC,aAkBV,IAAIuI,EAAWokB,EACfnkB,EAAOC,QAAUF","file":"js/chunk-0a01ae57.b35035c9.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../util/graphic\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid view\necharts.extendComponentView({\n  type: 'grid',\n  render: function (gridModel, ecModel) {\n    this.group.removeAll();\n\n    if (gridModel.get('show')) {\n      this.group.add(new graphic.Rect({\n        shape: gridModel.coordinateSystem.getRect(),\n        style: zrUtil.defaults({\n          fill: gridModel.get('backgroundColor')\n        }, gridModel.getItemStyle()),\n        silent: true,\n        z2: -1\n      }));\n    }\n  }\n});\necharts.registerPreprocessor(function (option) {\n  // Only create grid when need\n  if (option.xAxis && option.yAxis && !option.grid) {\n    option.grid = {};\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolRotate = seriesScope && seriesScope.symbolRotate;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolRotate = itemModel.getShallow('symbolRotate');\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n  symbolPath.hoverStyle = hoverItemStyle;\n  symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n  graphic.setHoverStyle(symbolPath);\n};\n\nfunction highDownOnUpdate(fromState, toState) {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  if (toState === 'emphasis') {\n    var scale = this.__symbolOriginalScale;\n    var ratio = scale[1] / scale[0];\n    var emphasisOpt = {\n      scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n    }; // FIXME\n    // modify it after support stop specified animation.\n    // toState === fromState\n    //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n    this.animateTo(emphasisOpt, 400, 'elasticOut');\n  } else if (toState === 'normal') {\n    this.animateTo({\n      scale: this.__symbolOriginalScale\n    }, 400, 'elasticOut');\n  }\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./scatter/ScatterSeries\");\n\nrequire(\"./scatter/ScatterView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import * as zrUtil from 'zrender/src/core/util';\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('scatter', 'circle'));\necharts.registerLayout(layoutPoints('scatter')); // echarts.registerProcessor(function (ecModel, api) {\n//     ecModel.eachSeriesByType('scatter', function (seriesModel) {\n//         var data = seriesModel.getData();\n//         var coordSys = seriesModel.coordinateSystem;\n//         if (coordSys.type !== 'geo') {\n//             return;\n//         }\n//         var startPt = coordSys.pointToData([0, 0]);\n//         var endPt = coordSys.pointToData([api.getWidth(), api.getHeight()]);\n//         var dims = zrUtil.map(coordSys.dimensions, function (dim) {\n//             return data.mapDimension(dim);\n//         });\n//         var range = {};\n//         range[dims[0]] = [Math.min(startPt[0], endPt[0]), Math.max(startPt[0], endPt[0])];\n//         range[dims[1]] = [Math.min(startPt[1], endPt[1]), Math.max(startPt[1], endPt[1])];\n//         data.selectRange(range);\n//     });\n// });","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar MarkerModel = require(\"./MarkerModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = MarkerModel.extend({\n  type: 'markLine',\n  defaultOption: {\n    zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    //symbolRotate: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'end'\n    },\n    lineStyle: {\n      type: 'dashed'\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar dataFormatMixin = require(\"../../model/mixin/dataFormat\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar addCommas = formatUtil.addCommas;\nvar encodeHTML = formatUtil.encodeHTML;\n\nfunction fillLabel(opt) {\n  modelUtil.defaultEmphasis(opt, 'label', ['show']);\n}\n\nvar MarkerModel = echarts.extendComponentModel({\n  type: 'marker',\n  dependencies: ['series', 'grid', 'polar', 'geo'],\n\n  /**\n   * @overrite\n   */\n  init: function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._mergeOption(option, ecModel, false, true);\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isAnimationEnabled: function () {\n    if (env.node) {\n      return false;\n    }\n\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  },\n\n  /**\n   * @overrite\n   */\n  mergeOption: function (newOpt, ecModel) {\n    this._mergeOption(newOpt, ecModel, false, false);\n  },\n  _mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n    var MarkerModel = this.constructor;\n    var modelPropName = this.mainType + 'Model';\n\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        var markerOpt = seriesModel.get(this.mainType, true);\n        var markerModel = seriesModel[modelPropName];\n\n        if (!markerOpt || !markerOpt.data) {\n          seriesModel[modelPropName] = null;\n          return;\n        }\n\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = new MarkerModel(markerOpt, this, ecModel);\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel._mergeOption(markerOpt, ecModel, true);\n        }\n\n        seriesModel[modelPropName] = markerModel;\n      }, this);\n    }\n  },\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? zrUtil.map(value, addCommas).join(', ') : addCommas(value);\n    var name = data.getName(dataIndex);\n    var html = encodeHTML(this.name);\n\n    if (value != null || name) {\n      html += '<br />';\n    }\n\n    if (name) {\n      html += encodeHTML(name);\n\n      if (value != null) {\n        html += ' : ';\n      }\n    }\n\n    if (value != null) {\n      html += encodeHTML(formattedValue);\n    }\n\n    return html;\n  },\n  getData: function () {\n    return this._data;\n  },\n  setData: function (data) {\n    this._data = data;\n  }\n});\nzrUtil.mixin(MarkerModel, dataFormatMixin);\nvar _default = MarkerModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar List = require(\"../../data/List\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar LineDraw = require(\"../../chart/helper/LineDraw\");\n\nvar MarkerView = require(\"./MarkerView\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData(); // Special type markLine like 'min', 'max', 'average', 'median'\n\n  var mlType = item.type;\n\n  if (!zrUtil.isArray(item) && (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median' // In case\n  // data: [{\n  //   yAxis: 10\n  // }]\n  || item.xAxis != null || item.yAxis != null)) {\n    var valueAxis;\n    var value;\n\n    if (item.yAxis != null || item.xAxis != null) {\n      valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n      value = zrUtil.retrieve(item.yAxis, item.xAxis);\n    } else {\n      var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n      valueAxis = axisInfo.valueAxis;\n      var valueDataDim = getStackedDimension(data, axisInfo.valueDataDim);\n      value = markerHelper.numCalculate(data, valueDataDim, mlType);\n    }\n\n    var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n    var baseIndex = 1 - valueIndex;\n    var mlFrom = zrUtil.clone(item);\n    var mlTo = {};\n    mlFrom.type = null;\n    mlFrom.coord = [];\n    mlTo.coord = [];\n    mlFrom.coord[baseIndex] = -Infinity;\n    mlTo.coord[baseIndex] = Infinity;\n    var precision = mlModel.get('precision');\n\n    if (precision >= 0 && typeof value === 'number') {\n      value = +value.toFixed(Math.min(precision, 20));\n    }\n\n    mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n    item = [mlFrom, mlTo, {\n      // Extra option for tooltip and label\n      type: mlType,\n      valueIndex: item.valueIndex,\n      // Force to use the value of calculated value.\n      value: value\n    }];\n  }\n\n  item = [markerHelper.dataTransform(seriesModel, item[0]), markerHelper.dataTransform(seriesModel, item[1]), zrUtil.extend({}, item[2])]; // Avoid line data type is extended by from(to) data type\n\n  item[2].type = item[2].type || ''; // Merge from option and to option into line option\n\n  zrUtil.merge(item[2], item[0]);\n  zrUtil.merge(item[2], item[1]);\n  return item;\n};\n\nfunction isInifinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markLine has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\n\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord; // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\n\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPoisition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    } // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n\n      if (isInifinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInifinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  data.setItemLayout(idx, point);\n}\n\nvar _default = MarkerView.extend({\n  type: 'markLine',\n  // updateLayout: function (markLineModel, ecModel, api) {\n  //     ecModel.eachSeries(function (seriesModel) {\n  //         var mlModel = seriesModel.markLineModel;\n  //         if (mlModel) {\n  //             var mlData = mlModel.getData();\n  //             var fromData = mlModel.__from;\n  //             var toData = mlModel.__to;\n  //             // Update visual and layout of from symbol and to symbol\n  //             fromData.each(function (idx) {\n  //                 updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n  //                 updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n  //             });\n  //             // Update layout of line\n  //             mlData.each(function (idx) {\n  //                 mlData.setItemLayout(idx, [\n  //                     fromData.getItemLayout(idx),\n  //                     toData.getItemLayout(idx)\n  //                 ]);\n  //             });\n  //             this.markerGroupMap.get(seriesModel.id).updateLayout();\n  //         }\n  //     }, this);\n  // },\n  updateTransform: function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = seriesModel.markLineModel;\n\n      if (mlModel) {\n        var mlData = mlModel.getData();\n        var fromData = mlModel.__from;\n        var toData = mlModel.__to; // Update visual and layout of from symbol and to symbol\n\n        fromData.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n        }); // Update layout of line\n\n        mlData.each(function (idx) {\n          mlData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    mlModel.__from = fromData;\n    mlModel.__to = toData; // Line data for tooltip and formatter\n\n    mlModel.setData(lineData);\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n\n    if (!zrUtil.isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n\n    if (typeof symbolSize === 'number') {\n      symbolSize = [symbolSize, symbolSize];\n    } // Update visual and layout of from symbol and to symbol\n\n\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    }); // Update visual and layout of line\n\n    lineData.each(function (idx) {\n      var lineColor = lineData.getItemModel(idx).get('lineStyle.color');\n      lineData.setItemVisual(idx, {\n        color: lineColor || fromData.getItemVisual(idx, 'color')\n      });\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n      lineData.setItemVisual(idx, {\n        'fromSymbolSize': fromData.getItemVisual(idx, 'symbolSize'),\n        'fromSymbol': fromData.getItemVisual(idx, 'symbol'),\n        'toSymbolSize': toData.getItemVisual(idx, 'symbolSize'),\n        'toSymbol': toData.getItemVisual(idx, 'symbol')\n      });\n    });\n    lineDraw.updateData(lineData); // Set host model for tooltip\n    // FIXME\n\n    mlData.line.eachItemGraphicEl(function (el, idx) {\n      el.traverse(function (child) {\n        child.dataModel = mlModel;\n      });\n    });\n\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      data.setItemVisual(idx, {\n        symbolSize: itemModel.get('symbolSize') || symbolSize[isFrom ? 0 : 1],\n        symbol: itemModel.get('symbol', true) || symbolType[isFrom ? 0 : 1],\n        color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n      });\n    }\n\n    lineDraw.__keep = true;\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\n\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return zrUtil.defaults({\n        name: coordDim\n      }, info);\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var fromData = new List(coordDimsInfos, mlModel);\n  var toData = new List(coordDimsInfos, mlModel); // No dimensions\n\n  var lineData = new List([], mlModel);\n  var optData = zrUtil.map(mlModel.get('data'), zrUtil.curry(markLineTransform, seriesModel, coordSys, mlModel));\n\n  if (coordSys) {\n    optData = zrUtil.filter(optData, zrUtil.curry(markLineFilter, coordSys));\n  }\n\n  var dimValueGetter = coordSys ? markerHelper.dimValueGetter : function (item) {\n    return item.value;\n  };\n  fromData.initData(zrUtil.map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(zrUtil.map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(zrUtil.map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar MarkerModel = require(\"./MarkerModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = MarkerModel.extend({\n  type: 'markArea',\n  defaultOption: {\n    zlevel: 0,\n    // PENDING\n    z: 1,\n    tooltip: {\n      trigger: 'item'\n    },\n    // markArea should fixed on the coordinate system\n    animation: false,\n    label: {\n      show: true,\n      position: 'top'\n    },\n    itemStyle: {\n      // color and borderColor default to use color from series\n      // color: 'auto'\n      // borderColor: 'auto'\n      borderWidth: 0\n    },\n    emphasis: {\n      label: {\n        show: true,\n        position: 'top'\n      }\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisModel = ComponentModel.extend({\n  type: 'cartesian2dAxis',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Axis2D}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  init: function () {\n    AxisModel.superApply(this, 'init', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function () {\n    AxisModel.superApply(this, 'mergeOption', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  restoreData: function () {\n    AxisModel.superApply(this, 'restoreData', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   * @return {module:echarts/model/Component}\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'grid',\n      index: this.option.gridIndex,\n      id: this.option.gridId\n    })[0];\n  }\n});\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\nvar extraOption = {\n  // gridIndex: 0,\n  // gridId: '',\n  // Offset is for multiple axis on the same position\n  offset: 0\n};\naxisModelCreator('x', AxisModel, getAxisType, extraOption);\naxisModelCreator('y', AxisModel, getAxisType, extraOption);\nvar _default = AxisModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\nvar each = _util.each;\nvar map = _util.map;\nvar indexOf = _util.indexOf;\nvar retrieve = _util.retrieve;\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar createScaleByModel = _axisHelper.createScaleByModel;\nvar ifAxisCrossZero = _axisHelper.ifAxisCrossZero;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\nvar estimateLabelUnionRect = _axisHelper.estimateLabelUnionRect;\n\nvar Cartesian2D = require(\"./Cartesian2D\");\n\nvar Axis2D = require(\"./Axis2D\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\nrequire(\"./GridModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\n// Depends on GridModel, AxisModel, which performs preprocess.\n\n/**\n * Check if the axis is used in the specified grid\n * @inner\n */\nfunction isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\n\nfunction Grid(gridModel, ecModel, api) {\n  /**\n   * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n   * @private\n   */\n  this._coordsMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n   * @private\n   */\n\n  this._coordsList = [];\n  /**\n   * @type {Object.<string, Array.<module:echarts/coord/cartesian/Axis2D>>}\n   * @private\n   */\n\n  this._axesMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n   * @private\n   */\n\n  this._axesList = [];\n\n  this._initCartesian(gridModel, ecModel, api);\n\n  this.model = gridModel;\n}\n\nvar gridProto = Grid.prototype;\ngridProto.type = 'grid';\ngridProto.axisPointerEnabled = true;\n\ngridProto.getRect = function () {\n  return this._rect;\n};\n\ngridProto.update = function (ecModel, api) {\n  var axesMap = this._axesMap;\n\n  this._updateScale(ecModel, this.model);\n\n  each(axesMap.x, function (xAxis) {\n    niceScaleExtent(xAxis.scale, xAxis.model);\n  });\n  each(axesMap.y, function (yAxis) {\n    niceScaleExtent(yAxis.scale, yAxis.model);\n  }); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n  var onZeroRecords = {};\n  each(axesMap.x, function (xAxis) {\n    fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n  });\n  each(axesMap.y, function (yAxis) {\n    fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n  }); // Resize again if containLabel is enabled\n  // FIXME It may cause getting wrong grid size in data processing stage\n\n  this.resize(this.model, api);\n};\n\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  }; // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n\n\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get('axisLine.onZero');\n  var onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n  if (!onZero) {\n    return;\n  } // If target axis is specified.\n\n\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\n\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\n/**\n * Resize the grid\n * @param {module:echarts/coord/cartesian/GridModel} gridModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\ngridProto.resize = function (gridModel, api, ignoreContainLabel) {\n  var gridRect = getLayoutRect(gridModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n  this._rect = gridRect;\n  var axesList = this._axesList;\n  adjustAxes(); // Minus label size\n\n  if (!ignoreContainLabel && gridModel.get('containLabel')) {\n    each(axesList, function (axis) {\n      if (!axis.model.get('axisLabel.inside')) {\n        var labelUnionRect = estimateLabelUnionRect(axis);\n\n        if (labelUnionRect) {\n          var dim = axis.isHorizontal() ? 'height' : 'width';\n          var margin = axis.model.get('axisLabel.margin');\n          gridRect[dim] -= labelUnionRect[dim] + margin;\n\n          if (axis.position === 'top') {\n            gridRect.y += labelUnionRect.height + margin;\n          } else if (axis.position === 'left') {\n            gridRect.x += labelUnionRect.width + margin;\n          }\n        }\n      }\n    });\n    adjustAxes();\n  }\n\n  function adjustAxes() {\n    each(axesList, function (axis) {\n      var isHorizontal = axis.isHorizontal();\n      var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(extent[idx], extent[1 - idx]);\n      updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n    });\n  }\n};\n/**\n * @param {string} axisType\n * @param {number} [axisIndex]\n */\n\n\ngridProto.getAxis = function (axisType, axisIndex) {\n  var axesMapOnDim = this._axesMap[axisType];\n\n  if (axesMapOnDim != null) {\n    if (axisIndex == null) {\n      // Find first axis\n      for (var name in axesMapOnDim) {\n        if (axesMapOnDim.hasOwnProperty(name)) {\n          return axesMapOnDim[name];\n        }\n      }\n    }\n\n    return axesMapOnDim[axisIndex];\n  }\n};\n/**\n * @return {Array.<module:echarts/coord/Axis>}\n */\n\n\ngridProto.getAxes = function () {\n  return this._axesList.slice();\n};\n/**\n * Usage:\n *      grid.getCartesian(xAxisIndex, yAxisIndex);\n *      grid.getCartesian(xAxisIndex);\n *      grid.getCartesian(null, yAxisIndex);\n *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n *\n * @param {number|Object} [xAxisIndex]\n * @param {number} [yAxisIndex]\n */\n\n\ngridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n  if (xAxisIndex != null && yAxisIndex != null) {\n    var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n    return this._coordsMap[key];\n  }\n\n  if (isObject(xAxisIndex)) {\n    yAxisIndex = xAxisIndex.yAxisIndex;\n    xAxisIndex = xAxisIndex.xAxisIndex;\n  } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n  for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n    if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n      return coordList[i];\n    }\n  }\n};\n\ngridProto.getCartesians = function () {\n  return this._coordsList.slice();\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertToPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertFromPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n};\n/**\n * @inner\n */\n\n\ngridProto._findConvertTarget = function (ecModel, finder) {\n  var seriesModel = finder.seriesModel;\n  var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n  var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n  var gridModel = finder.gridModel;\n  var coordsList = this._coordsList;\n  var cartesian;\n  var axis;\n\n  if (seriesModel) {\n    cartesian = seriesModel.coordinateSystem;\n    indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n  } else if (xAxisModel && yAxisModel) {\n    cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  } else if (xAxisModel) {\n    axis = this.getAxis('x', xAxisModel.componentIndex);\n  } else if (yAxisModel) {\n    axis = this.getAxis('y', yAxisModel.componentIndex);\n  } // Lowest priority.\n  else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n\n  return {\n    cartesian: cartesian,\n    axis: axis\n  };\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.containPoint = function (point) {\n  var coord = this._coordsList[0];\n\n  if (coord) {\n    return coord.containPoint(point);\n  }\n};\n/**\n * Initialize cartesian coordinate systems\n * @private\n */\n\n\ngridProto._initCartesian = function (gridModel, ecModel, api) {\n  var axisPositionUsed = {\n    left: false,\n    right: false,\n    top: false,\n    bottom: false\n  };\n  var axesMap = {\n    x: {},\n    y: {}\n  };\n  var axesCount = {\n    x: 0,\n    y: 0\n  }; /// Create axis\n\n  ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n  ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n  if (!axesCount.x || !axesCount.y) {\n    // Roll back when there no either x or y axis\n    this._axesMap = {};\n    this._axesList = [];\n    return;\n  }\n\n  this._axesMap = axesMap; /// Create cartesian2d\n\n  each(axesMap.x, function (xAxis, xAxisIndex) {\n    each(axesMap.y, function (yAxis, yAxisIndex) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      var cartesian = new Cartesian2D(key);\n      cartesian.grid = this;\n      cartesian.model = gridModel;\n      this._coordsMap[key] = cartesian;\n\n      this._coordsList.push(cartesian);\n\n      cartesian.addAxis(xAxis);\n      cartesian.addAxis(yAxis);\n    }, this);\n  }, this);\n\n  function createAxisCreator(axisType) {\n    return function (axisModel, idx) {\n      if (!isAxisUsedInTheGrid(axisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var axisPosition = axisModel.get('position');\n\n      if (axisType === 'x') {\n        // Fix position\n        if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n          // Default bottom of X\n          axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n        }\n      } else {\n        // Fix position\n        if (axisPosition !== 'left' && axisPosition !== 'right') {\n          // Default left of Y\n          axisPosition = axisPositionUsed.left ? 'right' : 'left';\n        }\n      }\n\n      axisPositionUsed[axisPosition] = true;\n      var axis = new Axis2D(axisType, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n      axisModel.axis = axis; // Inject axisModel into axis\n\n      axis.model = axisModel; // Inject grid info axis\n\n      axis.grid = this; // Index of axis, can be used as key\n\n      axis.index = idx;\n\n      this._axesList.push(axis);\n\n      axesMap[axisType][idx] = axis;\n      axesCount[axisType]++;\n    };\n  }\n};\n/**\n * Update cartesian properties from series\n * @param  {module:echarts/model/Option} option\n * @private\n */\n\n\ngridProto._updateScale = function (ecModel, gridModel) {\n  // Reset scale\n  each(this._axesList, function (axis) {\n    axis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (isCartesian2D(seriesModel)) {\n      var axesModels = findAxesModels(seriesModel, ecModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n\n      if (!isAxisUsedInTheGrid(xAxisModel, gridModel, ecModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n      var data = seriesModel.getData();\n      var xAxis = cartesian.getAxis('x');\n      var yAxis = cartesian.getAxis('y');\n\n      if (data.type === 'list') {\n        unionExtent(data, xAxis, seriesModel);\n        unionExtent(data, yAxis, seriesModel);\n      }\n    }\n  }, this);\n\n  function unionExtent(data, axis, seriesModel) {\n    each(data.mapDimension(axis.dim, true), function (dim) {\n      axis.scale.unionExtentFromData( // For example, the extent of the orginal dimension\n      // is [0.1, 0.5], the extent of the `stackResultDimension`\n      // is [7, 9], the final extent should not include [0.1, 0.5].\n      data, getStackedDimension(data, dim));\n    });\n  }\n};\n/**\n * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n * @return {Object} {baseAxes: [], otherAxes: []}\n */\n\n\ngridProto.getTooltipAxes = function (dim) {\n  var baseAxes = [];\n  var otherAxes = [];\n  each(this.getCartesians(), function (cartesian) {\n    var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n    var otherAxis = cartesian.getOtherAxis(baseAxis);\n    indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n    indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n  });\n  return {\n    baseAxes: baseAxes,\n    otherAxes: otherAxes\n  };\n};\n/**\n * @inner\n */\n\n\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\n\nvar axesTypes = ['xAxis', 'yAxis'];\n/**\n * @inner\n */\n\nfunction findAxesModels(seriesModel, ecModel) {\n  return map(axesTypes, function (axisType) {\n    var axisModel = seriesModel.getReferringComponents(axisType)[0];\n    return axisModel;\n  });\n}\n/**\n * @inner\n */\n\n\nfunction isCartesian2D(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\n\nGrid.create = function (ecModel, api) {\n  var grids = [];\n  ecModel.eachComponent('grid', function (gridModel, idx) {\n    var grid = new Grid(gridModel, ecModel, api);\n    grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n    // should be performed in create stage.\n\n    grid.resize(gridModel, api, true);\n    gridModel.coordinateSystem = grid;\n    grids.push(grid);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (!isCartesian2D(seriesModel)) {\n      return;\n    }\n\n    var axesModels = findAxesModels(seriesModel, ecModel);\n    var xAxisModel = axesModels[0];\n    var yAxisModel = axesModels[1];\n    var gridModel = xAxisModel.getCoordSysModel();\n    var grid = gridModel.coordinateSystem;\n    seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  });\n  return grids;\n}; // For deciding which dimensions to use when creating list data\n\n\nGrid.dimensions = Grid.prototype.dimensions = Cartesian2D.prototype.dimensions;\nCoordinateSystem.register('cartesian2d', Grid);\nvar _default = Grid;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar defaultOption = {\n  show: true,\n  zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By defualt auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {},\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: '#333',\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      color: ['#ccc'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n    }\n  }\n};\nvar axisDefault = {};\naxisDefault.categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  // Only usefull in the case like: category is\n  // ['2012-01-01', '2012-01-02', ...], where the input\n  // data has been ensured not duplicate and is large data.\n  // null means \"auto\":\n  // if axis.data provided, do not deduplication,\n  // else do deduplication.\n  deduplication: null,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\naxisDefault.valueAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For value axis, [GAP, GAP], where\n  // `GAP` can be an absolute pixel number (like `35`), or percent (like `'30%'`)\n  boundaryGap: [0, 0],\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  // Min value of the axis. can be:\n  // + a number\n  // + 'dataMin': use the min value in data.\n  // + null/undefined: auto decide min value (consider pretty look and boundaryGap).\n  // min: null,\n  // Max value of the axis. can be:\n  // + a number\n  // + 'dataMax': use the max value in data.\n  // + null/undefined: auto decide max value (consider pretty look and boundaryGap).\n  // max: null,\n  // Readonly prop, specifies start value of the range when using data zoom.\n  // rangeStart: null\n  // Readonly prop, specifies end value of the range when using data zoom.\n  // rangeEnd: null\n  // Optional value can be:\n  // + `false`: always include value 0.\n  // + `true`: the extent do not consider value 0.\n  // scale: false,\n  // AxisTick and axisLabel and splitLine are caculated based on splitNumber.\n  splitNumber: 5 // Interval specifies the span of the ticks is mandatorily.\n  // interval: null\n  // Specify min interval when auto calculate tick interval.\n  // minInterval: null\n  // Specify max interval when auto calculate tick interval.\n  // maxInterval: null\n\n}, defaultOption);\naxisDefault.timeAxis = zrUtil.defaults({\n  scale: true,\n  min: 'dataMin',\n  max: 'dataMax'\n}, axisDefault.valueAxis);\naxisDefault.logAxis = zrUtil.defaults({\n  scale: true,\n  logBase: 10\n}, axisDefault.valueAxis);\nvar _default = axisDefault;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar LineGroup = require(\"./Line\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/LineDraw\n */\n// import IncrementalDisplayable from 'zrender/src/graphic/IncrementalDisplayable';\n\n/**\n * @alias module:echarts/component/marker/LineDraw\n * @constructor\n */\nfunction LineDraw(ctor) {\n  this._ctor = ctor || LineGroup;\n  this.group = new graphic.Group();\n}\n\nvar lineDrawProto = LineDraw.prototype;\n\nlineDrawProto.isPersistent = function () {\n  return true;\n};\n/**\n * @param {module:echarts/data/List} lineData\n */\n\n\nlineDrawProto.updateData = function (lineData) {\n  var lineDraw = this;\n  var group = lineDraw.group;\n  var oldLineData = lineDraw._lineData;\n  lineDraw._lineData = lineData; // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldLineData) {\n    group.removeAll();\n  }\n\n  var seriesScope = makeSeriesScope(lineData);\n  lineData.diff(oldLineData).add(function (idx) {\n    doAdd(lineDraw, lineData, idx, seriesScope);\n  }).update(function (newIdx, oldIdx) {\n    doUpdate(lineDraw, oldLineData, lineData, oldIdx, newIdx, seriesScope);\n  }).remove(function (idx) {\n    group.remove(oldLineData.getItemGraphicEl(idx));\n  }).execute();\n};\n\nfunction doAdd(lineDraw, lineData, idx, seriesScope) {\n  var itemLayout = lineData.getItemLayout(idx);\n\n  if (!lineNeedsDraw(itemLayout)) {\n    return;\n  }\n\n  var el = new lineDraw._ctor(lineData, idx, seriesScope);\n  lineData.setItemGraphicEl(idx, el);\n  lineDraw.group.add(el);\n}\n\nfunction doUpdate(lineDraw, oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n  var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n\n  if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n    lineDraw.group.remove(itemEl);\n    return;\n  }\n\n  if (!itemEl) {\n    itemEl = new lineDraw._ctor(newLineData, newIdx, seriesScope);\n  } else {\n    itemEl.updateData(newLineData, newIdx, seriesScope);\n  }\n\n  newLineData.setItemGraphicEl(newIdx, itemEl);\n  lineDraw.group.add(itemEl);\n}\n\nlineDrawProto.updateLayout = function () {\n  var lineData = this._lineData; // Do not support update layout in incremental mode.\n\n  if (!lineData) {\n    return;\n  }\n\n  lineData.eachItemGraphicEl(function (el, idx) {\n    el.updateLayout(lineData, idx);\n  }, this);\n};\n\nlineDrawProto.incrementalPrepareUpdate = function (lineData) {\n  this._seriesScope = makeSeriesScope(lineData);\n  this._lineData = null;\n  this.group.removeAll();\n};\n\nlineDrawProto.incrementalUpdate = function (taskParams, lineData) {\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var itemLayout = lineData.getItemLayout(idx);\n\n    if (lineNeedsDraw(itemLayout)) {\n      var el = new this._ctor(lineData, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      this.group.add(el);\n      lineData.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction makeSeriesScope(lineData) {\n  var hostModel = lineData.hostModel;\n  return {\n    lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n    hoverLineStyle: hostModel.getModel('emphasis.lineStyle').getLineStyle(),\n    labelModel: hostModel.getModel('label'),\n    hoverLabelModel: hostModel.getModel('emphasis.label')\n  };\n}\n\nlineDrawProto.remove = function () {\n  this._clearIncremental();\n\n  this._incremental = null;\n  this.group.removeAll();\n};\n\nlineDrawProto._clearIncremental = function () {\n  var incremental = this._incremental;\n\n  if (incremental) {\n    incremental.clearDisplaybles();\n  }\n};\n\nfunction isPointNaN(pt) {\n  return isNaN(pt[0]) || isNaN(pt[1]);\n}\n\nfunction lineNeedsDraw(pts) {\n  return !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\n\nvar _default = LineDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkAreaModel\");\n\nrequire(\"./marker/MarkAreaView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerPreprocessor(function (opt) {\n  // Make sure markArea component is enabled\n  opt.markArea = opt.markArea || {};\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar vector = require(\"zrender/lib/core/vector\");\n\nvar symbolUtil = require(\"../../util/symbol\");\n\nvar LinePath = require(\"./LinePath\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar round = _number.round;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Line\n */\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\nfunction makeSymbolTypeKey(symbolCategory) {\n  return '_' + symbolCategory + 'Type';\n}\n/**\n * @inner\n */\n\n\nfunction createSymbol(name, lineData, idx) {\n  var color = lineData.getItemVisual(idx, 'color');\n  var symbolType = lineData.getItemVisual(idx, name);\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n\n  if (!symbolType || symbolType === 'none') {\n    return;\n  }\n\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [symbolSize, symbolSize];\n  }\n\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSize[0] / 2, -symbolSize[1] / 2, symbolSize[0], symbolSize[1], color);\n  symbolPath.name = name;\n  return symbolPath;\n}\n\nfunction createLine(points) {\n  var line = new LinePath({\n    name: 'line',\n    subPixelOptimize: true\n  });\n  setLinePoints(line.shape, points);\n  return line;\n}\n\nfunction setLinePoints(targetShape, points) {\n  targetShape.x1 = points[0][0];\n  targetShape.y1 = points[0][1];\n  targetShape.x2 = points[1][0];\n  targetShape.y2 = points[1][1];\n  targetShape.percent = 1;\n  var cp1 = points[2];\n\n  if (cp1) {\n    targetShape.cpx1 = cp1[0];\n    targetShape.cpy1 = cp1[1];\n  } else {\n    targetShape.cpx1 = NaN;\n    targetShape.cpy1 = NaN;\n  }\n}\n\nfunction updateSymbolAndLabelBeforeLineUpdate() {\n  var lineGroup = this;\n  var symbolFrom = lineGroup.childOfName('fromSymbol');\n  var symbolTo = lineGroup.childOfName('toSymbol');\n  var label = lineGroup.childOfName('label'); // Quick reject\n\n  if (!symbolFrom && !symbolTo && label.ignore) {\n    return;\n  }\n\n  var invScale = 1;\n  var parentNode = this.parent;\n\n  while (parentNode) {\n    if (parentNode.scale) {\n      invScale /= parentNode.scale[0];\n    }\n\n    parentNode = parentNode.parent;\n  }\n\n  var line = lineGroup.childOfName('line'); // If line not changed\n  // FIXME Parent scale changed\n\n  if (!this.__dirty && !line.__dirty) {\n    return;\n  }\n\n  var percent = line.shape.percent;\n  var fromPos = line.pointAt(0);\n  var toPos = line.pointAt(percent);\n  var d = vector.sub([], toPos, fromPos);\n  vector.normalize(d, d);\n\n  if (symbolFrom) {\n    symbolFrom.attr('position', fromPos);\n    var tangent = line.tangentAt(0);\n    symbolFrom.attr('rotation', Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n    symbolFrom.attr('scale', [invScale * percent, invScale * percent]);\n  }\n\n  if (symbolTo) {\n    symbolTo.attr('position', toPos);\n    var tangent = line.tangentAt(1);\n    symbolTo.attr('rotation', -Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n    symbolTo.attr('scale', [invScale * percent, invScale * percent]);\n  }\n\n  if (!label.ignore) {\n    label.attr('position', toPos);\n    var textPosition;\n    var textAlign;\n    var textVerticalAlign;\n    var distance = 5 * invScale; // End\n\n    if (label.__position === 'end') {\n      textPosition = [d[0] * distance + toPos[0], d[1] * distance + toPos[1]];\n      textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n      textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n    } // Middle\n    else if (label.__position === 'middle') {\n        var halfPercent = percent / 2;\n        var tangent = line.tangentAt(halfPercent);\n        var n = [tangent[1], -tangent[0]];\n        var cp = line.pointAt(halfPercent);\n\n        if (n[1] > 0) {\n          n[0] = -n[0];\n          n[1] = -n[1];\n        }\n\n        textPosition = [cp[0] + n[0] * distance, cp[1] + n[1] * distance];\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n\n        label.attr('rotation', rotation);\n      } // Start\n      else {\n          textPosition = [-d[0] * distance + fromPos[0], -d[1] * distance + fromPos[1]];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n        }\n\n    label.attr({\n      style: {\n        // Use the user specified text align and baseline first\n        textVerticalAlign: label.__verticalAlign || textVerticalAlign,\n        textAlign: label.__textAlign || textAlign\n      },\n      position: textPosition,\n      scale: [invScale, invScale]\n    });\n  }\n}\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\n\n\nfunction Line(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n\n  this._createLine(lineData, idx, seriesScope);\n}\n\nvar lineProto = Line.prototype; // Update symbol position and rotation\n\nlineProto.beforeUpdate = updateSymbolAndLabelBeforeLineUpdate;\n\nlineProto._createLine = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var linePoints = lineData.getItemLayout(idx);\n  var line = createLine(linePoints);\n  line.shape.percent = 0;\n  graphic.initProps(line, {\n    shape: {\n      percent: 1\n    }\n  }, seriesModel, idx);\n  this.add(line);\n  var label = new graphic.Text({\n    name: 'label',\n    // FIXME\n    // Temporary solution for `focusNodeAdjacency`.\n    // line label do not use the opacity of lineStyle.\n    lineLabelOriginalOpacity: 1\n  });\n  this.add(label);\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbol = createSymbol(symbolCategory, lineData, idx); // symbols must added after line to make sure\n    // it will be updated after line#update.\n    // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n\n    this.add(symbol);\n    this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n  }, this);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto.updateData = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childOfName('line');\n  var linePoints = lineData.getItemLayout(idx);\n  var target = {\n    shape: {}\n  };\n  setLinePoints(target.shape, linePoints);\n  graphic.updateProps(line, target, seriesModel, idx);\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbolType = lineData.getItemVisual(idx, symbolCategory);\n    var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\n\n    if (this[key] !== symbolType) {\n      this.remove(this.childOfName(symbolCategory));\n      var symbol = createSymbol(symbolCategory, lineData, idx);\n      this.add(symbol);\n    }\n\n    this[key] = symbolType;\n  }, this);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childOfName('line');\n  var lineStyle = seriesScope && seriesScope.lineStyle;\n  var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel; // Optimization for large dataset\n\n  if (!seriesScope || lineData.hasItemOption) {\n    var itemModel = lineData.getItemModel(idx);\n    lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n    hoverLineStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n    labelModel = itemModel.getModel('label');\n    hoverLabelModel = itemModel.getModel('emphasis.label');\n  }\n\n  var visualColor = lineData.getItemVisual(idx, 'color');\n  var visualOpacity = zrUtil.retrieve3(lineData.getItemVisual(idx, 'opacity'), lineStyle.opacity, 1);\n  line.useStyle(zrUtil.defaults({\n    strokeNoScale: true,\n    fill: 'none',\n    stroke: visualColor,\n    opacity: visualOpacity\n  }, lineStyle));\n  line.hoverStyle = hoverLineStyle; // Update symbol\n\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbol = this.childOfName(symbolCategory);\n\n    if (symbol) {\n      symbol.setColor(visualColor);\n      symbol.setStyle({\n        opacity: visualOpacity\n      });\n    }\n  }, this);\n  var showLabel = labelModel.getShallow('show');\n  var hoverShowLabel = hoverLabelModel.getShallow('show');\n  var label = this.childOfName('label');\n  var defaultLabelColor;\n  var baseText; // FIXME: the logic below probably should be merged to `graphic.setLabelStyle`.\n\n  if (showLabel || hoverShowLabel) {\n    defaultLabelColor = visualColor || '#000';\n    baseText = seriesModel.getFormattedLabel(idx, 'normal', lineData.dataType);\n\n    if (baseText == null) {\n      var rawVal = seriesModel.getRawValue(idx);\n      baseText = rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal;\n    }\n  }\n\n  var normalText = showLabel ? baseText : null;\n  var emphasisText = hoverShowLabel ? zrUtil.retrieve2(seriesModel.getFormattedLabel(idx, 'emphasis', lineData.dataType), baseText) : null;\n  var labelStyle = label.style; // Always set `textStyle` even if `normalStyle.text` is null, because default\n  // values have to be set on `normalStyle`.\n\n  if (normalText != null || emphasisText != null) {\n    graphic.setTextStyle(label.style, labelModel, {\n      text: normalText\n    }, {\n      autoColor: defaultLabelColor\n    });\n    label.__textAlign = labelStyle.textAlign;\n    label.__verticalAlign = labelStyle.textVerticalAlign; // 'start', 'middle', 'end'\n\n    label.__position = labelModel.get('position') || 'middle';\n  }\n\n  if (emphasisText != null) {\n    // Only these properties supported in this emphasis style here.\n    label.hoverStyle = {\n      text: emphasisText,\n      textFill: hoverLabelModel.getTextColor(true),\n      // For merging hover style to normal style, do not use\n      // `hoverLabelModel.getFont()` here.\n      fontStyle: hoverLabelModel.getShallow('fontStyle'),\n      fontWeight: hoverLabelModel.getShallow('fontWeight'),\n      fontSize: hoverLabelModel.getShallow('fontSize'),\n      fontFamily: hoverLabelModel.getShallow('fontFamily')\n    };\n  } else {\n    label.hoverStyle = {\n      text: null\n    };\n  }\n\n  label.ignore = !showLabel && !hoverShowLabel;\n  graphic.setHoverStyle(this);\n};\n\nlineProto.highlight = function () {\n  this.trigger('emphasis');\n};\n\nlineProto.downplay = function () {\n  this.trigger('normal');\n};\n\nlineProto.updateLayout = function (lineData, idx) {\n  this.setLinePoints(lineData.getItemLayout(idx));\n};\n\nlineProto.setLinePoints = function (points) {\n  var linePath = this.childOfName('line');\n  setLinePoints(linePath.shape, points);\n  linePath.dirty();\n};\n\nzrUtil.inherits(Line, graphic.Group);\nvar _default = Line;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Line path for bezier and straight line draw\n */\nvar straightLineProto = graphic.Line.prototype;\nvar bezierCurveProto = graphic.BezierCurve.prototype;\n\nfunction isLine(shape) {\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\n\nvar _default = graphic.extendShape({\n  type: 'ec-line',\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    percent: 1,\n    cpx1: null,\n    cpy1: null\n  },\n  buildPath: function (ctx, shape) {\n    this[isLine(shape) ? '_buildPathLine' : '_buildPathCurve'](ctx, shape);\n  },\n  _buildPathLine: straightLineProto.buildPath,\n  _buildPathCurve: bezierCurveProto.buildPath,\n  pointAt: function (t) {\n    return this[isLine(this.shape) ? '_pointAtLine' : '_pointAtCurve'](t);\n  },\n  _pointAtLine: straightLineProto.pointAt,\n  _pointAtCurve: bezierCurveProto.pointAt,\n  tangentAt: function (t) {\n    var shape = this.shape;\n    var p = isLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : this._tangentAtCurve(t);\n    return vec2.normalize(p, p);\n  },\n  _tangentAtCurve: bezierCurveProto.tangentAt\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isFunction = _util.isFunction;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, defaultSymbolType, legendSymbol) {\n  // Encoding visual for all series include which is filtered for legend drawing\n  return {\n    seriesType: seriesType,\n    // For legend.\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var symbolType = seriesModel.get('symbol');\n      var symbolSize = seriesModel.get('symbolSize');\n      var keepAspect = seriesModel.get('symbolKeepAspect');\n      var hasSymbolTypeCallback = isFunction(symbolType);\n      var hasSymbolSizeCallback = isFunction(symbolSize);\n      var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback;\n      var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n      var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n      data.setVisual({\n        legendSymbol: legendSymbol || seriesSymbol,\n        // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n        // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n        // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n        // some cases but generally it is not recommanded.\n        symbol: seriesSymbol,\n        symbolSize: seriesSymbolSize,\n        symbolKeepAspect: keepAspect\n      }); // Only visible series has each data be visual encoded\n\n      if (ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n\n      function dataEach(data, idx) {\n        if (hasCallback) {\n          var rawValue = seriesModel.getRawValue(idx);\n          var params = seriesModel.getDataParams(idx);\n          hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n          hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n        }\n\n        if (data.hasItemOption) {\n          var itemModel = data.getItemModel(idx);\n          var itemSymbolType = itemModel.getShallow('symbol', true);\n          var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n          var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n          if (itemSymbolType != null) {\n            data.setItemVisual(idx, 'symbol', itemSymbolType);\n          }\n\n          if (itemSymbolSize != null) {\n            // PENDING Transform symbolSize ?\n            data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n          }\n\n          if (itemSymbolKeepAspect != null) {\n            data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n          }\n        }\n      }\n\n      return {\n        dataEach: data.hasItemOption || hasCallback ? dataEach : null\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\nvar createRenderPlanner = require(\"../chart/helper/createRenderPlanner\");\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var isLargeRender = pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      function progress(params, data) {\n        var segCount = params.end - params.start;\n        var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n        for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n          var point;\n\n          if (dimLen === 1) {\n            var x = data.get(dims[0], i);\n            point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n          } else {\n            var x = tmpIn[0] = data.get(dims[0], i);\n            var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n            point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n          }\n\n          if (isLargeRender) {\n            points[offset++] = point ? point[0] : NaN;\n            points[offset++] = point ? point[1] : NaN;\n          } else {\n            data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n          }\n        }\n\n        isLargeRender && data.setLayout('symbolPoints', points);\n      }\n\n      return dimLen && {\n        progress: progress\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'marker',\n  init: function () {\n    /**\n     * Markline grouped by series\n     * @private\n     * @type {module:zrender/core/util.HashMap}\n     */\n    this.markerGroupMap = zrUtil.createHashMap();\n  },\n  render: function (markerModel, ecModel, api) {\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      item.__keep = false;\n    });\n    var markerModelKey = this.type + 'Model';\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = seriesModel[markerModelKey];\n      markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n    }, this);\n    markerGroupMap.each(function (item) {\n      !item.__keep && this.group.remove(item.group);\n    }, this);\n  },\n  renderSeries: function () {}\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar colorUtil = require(\"zrender/lib/tool/color\");\n\nvar List = require(\"../../data/List\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar MarkerView = require(\"./MarkerView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Better on polar\nvar markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n  var lt = markerHelper.dataTransform(seriesModel, item[0]);\n  var rb = markerHelper.dataTransform(seriesModel, item[1]);\n  var retrieve = zrUtil.retrieve; // FIXME make sure lt is less than rb\n\n  var ltCoord = lt.coord;\n  var rbCoord = rb.coord;\n  ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n  ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n  rbCoord[0] = retrieve(rbCoord[0], Infinity);\n  rbCoord[1] = retrieve(rbCoord[1], Infinity); // Merge option into one\n\n  var result = zrUtil.mergeAll([{}, lt, rb]);\n  result.coord = [lt.coord, rb.coord];\n  result.x0 = lt.x;\n  result.y0 = lt.y;\n  result.x1 = rb.x;\n  result.y1 = rb.y;\n  return result;\n};\n\nfunction isInifinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markArea has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]);\n}\n\nfunction markAreaFilter(coordSys, item) {\n  var fromCoord = item.coord[0];\n  var toCoord = item.coord[1];\n\n  if (coordSys.type === 'cartesian2d') {\n    // In case\n    // {\n    //  markArea: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, {\n    coord: fromCoord,\n    x: item.x0,\n    y: item.y0\n  }) || markerHelper.dataFilter(coordSys, {\n    coord: toCoord,\n    x: item.x1,\n    y: item.y1\n  });\n} // dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\n\n\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get(dims[0]), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get(dims[1]), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPoisition\n      point = seriesModel.getMarkerPosition(data.getValues(dims, idx));\n    } else {\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      var pt = [x, y];\n      coordSys.clampData && coordSys.clampData(pt, pt);\n      point = coordSys.dataToPoint(pt, true);\n    }\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n\n      if (isInifinity(x)) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n      } else if (isInifinity(y)) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  return point;\n}\n\nvar dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\nMarkerView.extend({\n  type: 'markArea',\n  // updateLayout: function (markAreaModel, ecModel, api) {\n  //     ecModel.eachSeries(function (seriesModel) {\n  //         var maModel = seriesModel.markAreaModel;\n  //         if (maModel) {\n  //             var areaData = maModel.getData();\n  //             areaData.each(function (idx) {\n  //                 var points = zrUtil.map(dimPermutations, function (dim) {\n  //                     return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n  //                 });\n  //                 // Layout\n  //                 areaData.setItemLayout(idx, points);\n  //                 var el = areaData.getItemGraphicEl(idx);\n  //                 el.setShape('points', points);\n  //             });\n  //         }\n  //     }, this);\n  // },\n  updateTransform: function (markAreaModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var maModel = seriesModel.markAreaModel;\n\n      if (maModel) {\n        var areaData = maModel.getData();\n        areaData.each(function (idx) {\n          var points = zrUtil.map(dimPermutations, function (dim) {\n            return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n          }); // Layout\n\n          areaData.setItemLayout(idx, points);\n          var el = areaData.getItemGraphicEl(idx);\n          el.setShape('points', points);\n        });\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, maModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var areaGroupMap = this.markerGroupMap;\n    var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n      group: new graphic.Group()\n    });\n    this.group.add(polygonGroup.group);\n    polygonGroup.__keep = true;\n    var areaData = createList(coordSys, seriesModel, maModel); // Line data for tooltip and formatter\n\n    maModel.setData(areaData); // Update visual and layout of line\n\n    areaData.each(function (idx) {\n      // Layout\n      areaData.setItemLayout(idx, zrUtil.map(dimPermutations, function (dim) {\n        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n      })); // Visual\n\n      areaData.setItemVisual(idx, {\n        color: seriesData.getVisual('color')\n      });\n    });\n    areaData.diff(polygonGroup.__data).add(function (idx) {\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: areaData.getItemLayout(idx)\n        }\n      });\n      areaData.setItemGraphicEl(idx, polygon);\n      polygonGroup.group.add(polygon);\n    }).update(function (newIdx, oldIdx) {\n      var polygon = polygonGroup.__data.getItemGraphicEl(oldIdx);\n\n      graphic.updateProps(polygon, {\n        shape: {\n          points: areaData.getItemLayout(newIdx)\n        }\n      }, maModel, newIdx);\n      polygonGroup.group.add(polygon);\n      areaData.setItemGraphicEl(newIdx, polygon);\n    }).remove(function (idx) {\n      var polygon = polygonGroup.__data.getItemGraphicEl(idx);\n\n      polygonGroup.group.remove(polygon);\n    }).execute();\n    areaData.eachItemGraphicEl(function (polygon, idx) {\n      var itemModel = areaData.getItemModel(idx);\n      var labelModel = itemModel.getModel('label');\n      var labelHoverModel = itemModel.getModel('emphasis.label');\n      var color = areaData.getItemVisual(idx, 'color');\n      polygon.useStyle(zrUtil.defaults(itemModel.getModel('itemStyle').getItemStyle(), {\n        fill: colorUtil.modifyAlpha(color, 0.4),\n        stroke: color\n      }));\n      polygon.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n      graphic.setLabelStyle(polygon.style, polygon.hoverStyle, labelModel, labelHoverModel, {\n        labelFetcher: maModel,\n        labelDataIndex: idx,\n        defaultText: areaData.getName(idx) || '',\n        isRectText: true,\n        autoColor: color\n      });\n      graphic.setHoverStyle(polygon, {});\n      polygon.dataModel = maModel;\n    });\n    polygonGroup.__data = areaData;\n    polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\nfunction createList(coordSys, seriesModel, maModel) {\n  var coordDimsInfos;\n  var areaData;\n  var dims = ['x0', 'y0', 'x1', 'y1'];\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var data = seriesModel.getData();\n      var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return zrUtil.defaults({\n        name: coordDim\n      }, info);\n    });\n    areaData = new List(zrUtil.map(dims, function (dim, idx) {\n      return {\n        name: dim,\n        type: coordDimsInfos[idx % 2].type\n      };\n    }), maModel);\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n    areaData = new List(coordDimsInfos, maModel);\n  }\n\n  var optData = zrUtil.map(maModel.get('data'), zrUtil.curry(markAreaTransform, seriesModel, coordSys, maModel));\n\n  if (coordSys) {\n    optData = zrUtil.filter(optData, zrUtil.curry(markAreaFilter, coordSys));\n  }\n\n  var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n    return item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n  } : function (item) {\n    return item.value;\n  };\n  areaData.initData(optData, null, dimValueGetter);\n  areaData.hasItemOption = true;\n  return areaData;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./AxisModel\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid \n//  Cartesian2D \nvar _default = ComponentModel.extend({\n  type: 'grid',\n  dependencies: ['xAxis', 'yAxis'],\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Grid}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    show: false,\n    zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 60,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar indexOf = zrUtil.indexOf;\n\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\n\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n} // Make it simple, do not visit all stacked value to count precision.\n// function getPrecision(data, valueAxisDim, dataIndex) {\n//     var precision = -1;\n//     var stackedDim = data.mapDimension(valueAxisDim);\n//     do {\n//         precision = Math.max(\n//             numberUtil.getPrecision(data.get(stackedDim, dataIndex)),\n//             precision\n//         );\n//         var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n//         if (stackedOnSeries) {\n//             var byValue = data.get(data.getCalculationInfo('stackedByDimension'), dataIndex);\n//             data = stackedOnSeries.getData();\n//             dataIndex = data.indexOf(data.getCalculationInfo('stackedByDimension'), byValue);\n//             stackedDim = data.getCalculationInfo('stackedDimension');\n//         }\n//         else {\n//             data = null;\n//         }\n//     } while (data);\n//     return precision;\n// }\n\n\nfunction markerTypeCalculatorWithExtent(mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var stacked = isDimensionStacked(data, targetDataDim\n  /*, otherDataDim*/\n  );\n  var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n  var value = numCalculate(data, calcDataDim, mlType);\n  var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n  coordArr[targetCoordIndex] = data.get(targetDataDim, dataIndex); // Make it simple, do not visit all stacked value to count precision.\n\n  var precision = numberUtil.getPrecision(data.get(targetDataDim, dataIndex));\n  precision = Math.min(precision, 20);\n\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n\n  return coordArr;\n}\n\nvar curry = zrUtil.curry; // TODO Specified percent\n\nvar markerTypeCalculator = {\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  average: curry(markerTypeCalculatorWithExtent, 'average')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n * @param  {module:echarts/model/Series} seriesModel\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {Object}\n */\n\nfunction dataTransform(seriesModel, item) {\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n\n  if (item && !hasXAndY(item) && !zrUtil.isArray(item.coord) && coordSys) {\n    var dims = coordSys.dimensions;\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel); // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n    item = zrUtil.clone(item);\n\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      item.coord = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex); // Force to use the value of calculated value.\n\n      item.value = item.coord[targetCoordIndex];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n      for (var i = 0; i < 2; i++) {\n        if (markerTypeCalculator[coord[i]]) {\n          coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n        }\n      }\n\n      item.coord = coord;\n    }\n  }\n\n  return item;\n}\n\nfunction getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n  }\n\n  return ret;\n}\n\nfunction dataDimToCoordDim(seriesModel, dataDim) {\n  var data = seriesModel.getData();\n  var dimensions = data.dimensions;\n  dataDim = data.getDimension(dataDim);\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimItem = data.getDimensionInfo(dimensions[i]);\n\n    if (dimItem.name === dataDim) {\n      return dimItem.coordDim;\n    }\n  }\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {boolean}\n */\n\n\nfunction dataFilter(coordSys, item) {\n  // Alwalys return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\n\nfunction dimValueGetter(item, dimName, dataIndex, dimIndex) {\n  // x, y, radius, angle\n  if (dimIndex < 2) {\n    return item.coord && item.coord[dimIndex];\n  }\n\n  return item.value;\n}\n\nfunction numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum = 0;\n    var count = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum += val;\n        count++;\n      }\n    });\n    return sum / count;\n  } else if (type === 'median') {\n    return data.getMedian(valueDataDim);\n  } else {\n    // max & min\n    return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n  }\n}\n\nexports.dataTransform = dataTransform;\nexports.getAxisInfo = getAxisInfo;\nexports.dataFilter = dataFilter;\nexports.dimValueGetter = dimValueGetter;\nexports.numCalculate = numCalculate;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkLineModel\");\n\nrequire(\"./marker/MarkLineView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerPreprocessor(function (opt) {\n  // Make sure markLine component is enabled\n  opt.markLine = opt.markLine || {};\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisDefault = require(\"./axisDefault\");\n\nvar ComponentModel = require(\"../model/Component\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\n\nvar OrdinalMeta = require(\"../data/OrdinalMeta\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME axisType is fixed ?\nvar AXIS_TYPES = ['value', 'category', 'time', 'log'];\n/**\n * Generate sub axis model class\n * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n * @param {module:echarts/model/Component} BaseAxisModelClass\n * @param {Function} axisTypeDefaulter\n * @param {Object} [extraDefaultOption]\n */\n\nfunction _default(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n  zrUtil.each(AXIS_TYPES, function (axisType) {\n    BaseAxisModelClass.extend({\n      /**\n       * @readOnly\n       */\n      type: axisName + 'Axis.' + axisType,\n      mergeDefaultAndTheme: function (option, ecModel) {\n        var layoutMode = this.layoutMode;\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        zrUtil.merge(option, themeModel.get(axisType + 'Axis'));\n        zrUtil.merge(option, this.getDefaultOption());\n        option.type = axisTypeDefaulter(axisName, option);\n\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      },\n\n      /**\n       * @override\n       */\n      optionUpdated: function () {\n        var thisOption = this.option;\n\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      },\n\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n      getCategories: function (rawData) {\n        var option = this.option; // FIXME\n        // warning if called before all of 'getInitailData' finished.\n\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n\n          return this.__ordinalMeta.categories;\n        }\n      },\n      getOrdinalMeta: function () {\n        return this.__ordinalMeta;\n      },\n      defaultOption: zrUtil.mergeAll([{}, axisDefault[axisType + 'Axis'], extraDefaultOption], true)\n    });\n  });\n  ComponentModel.registerSubTypeDefaulter(axisName + 'Axis', zrUtil.curry(axisTypeDefaulter, axisName));\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar LargeSymbolDraw = require(\"../helper/LargeSymbolDraw\");\n\nvar pointsLayout = require(\"../../layout/points\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.extendChartView({\n  type: 'scatter',\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  },\n  incrementalRender: function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  },\n  updateTransform: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4 || !this._symbolDraw.isPersistent()) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout().reset(seriesModel);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  },\n  _getClipShape: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  },\n  _updateSymbolDraw: function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  },\n  dispose: function () {}\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/cartesian/AxisModel\");\n\nrequire(\"./axis/CartesianAxisView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {string} label string. Not null/undefined\n */\nfunction getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimension('defaultedLabel', true);\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n  if (len === 1) {\n    return retrieveRawValue(data, dataIndex, labelDims[0]);\n  } else if (len) {\n    var vals = [];\n\n    for (var i = 0; i < labelDims.length; i++) {\n      var val = retrieveRawValue(data, dataIndex, labelDims[i]);\n      vals.push(val);\n    }\n\n    return vals.join(' ');\n  }\n}\n\nexports.getDefaultLabel = getDefaultLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar IncrementalDisplayable = require(\"zrender/lib/graphic/IncrementalDisplayable\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\n// TODO Batch by color\nvar BOOST_SIZE_THRESHOLD = 4;\nvar LargeSymbolPath = graphic.extendShape({\n  shape: {\n    points: null\n  },\n  symbolProxy: null,\n  softClipShape: null,\n  buildPath: function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD; // Do draw in afterBrush.\n\n    if (canBoost) {\n      return;\n    }\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      }\n\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n  },\n  afterBrush: function (ctx) {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var canBoost = size[0] < BOOST_SIZE_THRESHOLD;\n\n    if (!canBoost) {\n      return;\n    }\n\n    this.setTransform(ctx); // PENDING If style or other canvas status changed?\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      } // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n\n\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n\n    this.restoreTransform(ctx);\n  },\n  findDataIndex: function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4); // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n\n    return -1;\n  }\n});\n\nfunction LargeSymbolDraw() {\n  this.group = new graphic.Group();\n}\n\nvar largeSymbolProto = LargeSymbolDraw.prototype;\n\nlargeSymbolProto.isPersistent = function () {\n  return !this._incremental;\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} opt\n * @param {Object} [opt.clipShape]\n */\n\n\nlargeSymbolProto.updateData = function (data, opt) {\n  this.group.removeAll();\n  var symbolEl = new LargeSymbolPath({\n    rectHover: true,\n    cursor: 'default'\n  });\n  symbolEl.setShape({\n    points: data.getLayout('symbolPoints')\n  });\n\n  this._setCommon(symbolEl, data, false, opt);\n\n  this.group.add(symbolEl);\n  this._incremental = null;\n};\n\nlargeSymbolProto.updateLayout = function (data) {\n  if (this._incremental) {\n    return;\n  }\n\n  var points = data.getLayout('symbolPoints');\n  this.group.eachChild(function (child) {\n    if (child.startIndex != null) {\n      var len = (child.endIndex - child.startIndex) * 2;\n      var byteOffset = child.startIndex * 4 * 2;\n      points = new Float32Array(points.buffer, byteOffset, len);\n    }\n\n    child.setShape('points', points);\n  });\n};\n\nlargeSymbolProto.incrementalPrepareUpdate = function (data) {\n  this.group.removeAll();\n\n  this._clearIncremental(); // Only use incremental displayables when data amount is larger than 2 million.\n  // PENDING Incremental data?\n\n\n  if (data.count() > 2e6) {\n    if (!this._incremental) {\n      this._incremental = new IncrementalDisplayable({\n        silent: true\n      });\n    }\n\n    this.group.add(this._incremental);\n  } else {\n    this._incremental = null;\n  }\n};\n\nlargeSymbolProto.incrementalUpdate = function (taskParams, data, opt) {\n  var symbolEl;\n\n  if (this._incremental) {\n    symbolEl = new LargeSymbolPath();\n\n    this._incremental.addDisplayable(symbolEl, true);\n  } else {\n    symbolEl = new LargeSymbolPath({\n      rectHover: true,\n      cursor: 'default',\n      startIndex: taskParams.start,\n      endIndex: taskParams.end\n    });\n    symbolEl.incremental = true;\n    this.group.add(symbolEl);\n  }\n\n  symbolEl.setShape({\n    points: data.getLayout('symbolPoints')\n  });\n\n  this._setCommon(symbolEl, data, !!this._incremental, opt);\n};\n\nlargeSymbolProto._setCommon = function (symbolEl, data, isIncremental, opt) {\n  var hostModel = data.hostModel;\n  opt = opt || {}; // TODO\n  // if (data.hasItemVisual.symbolSize) {\n  //     // TODO typed array?\n  //     symbolEl.setShape('sizes', data.mapArray(\n  //         function (idx) {\n  //             var size = data.getItemVisual(idx, 'symbolSize');\n  //             return (size instanceof Array) ? size : [size, size];\n  //         }\n  //     ));\n  // }\n  // else {\n\n  var size = data.getVisual('symbolSize');\n  symbolEl.setShape('size', size instanceof Array ? size : [size, size]); // }\n\n  symbolEl.softClipShape = opt.clipShape || null; // Create symbolProxy to build path for each data\n\n  symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n  symbolEl.setColor = symbolEl.symbolProxy.setColor;\n  var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n  symbolEl.useStyle( // Draw shadow when doing fillRect is extremely slow.\n  hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n  var visualColor = data.getVisual('color');\n\n  if (visualColor) {\n    symbolEl.setColor(visualColor);\n  }\n\n  if (!isIncremental) {\n    // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n    symbolEl.seriesIndex = hostModel.seriesIndex;\n    symbolEl.on('mousemove', function (e) {\n      symbolEl.dataIndex = null;\n      var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n\n      if (dataIndex >= 0) {\n        // Provide dataIndex for tooltip\n        symbolEl.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n      }\n    });\n  }\n};\n\nlargeSymbolProto.remove = function () {\n  this._clearIncremental();\n\n  this._incremental = null;\n  this.group.removeAll();\n};\n\nlargeSymbolProto._clearIncremental = function () {\n  var incremental = this._incremental;\n\n  if (incremental) {\n    incremental.clearDisplaybles();\n  }\n};\n\nvar _default = LargeSymbolDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.scatter',\n  dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this);\n  },\n  brushSelector: 'point',\n  getProgressive: function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n\n    return progressive;\n  },\n  getProgressiveThreshold: function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // \n    symbolSize: 10,\n    // symbolSize * 2\n    // symbolRotate: null,  // \n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    // label: {\n    // show: false\n    // distance: 5,\n    // formatter: Tooltip.formatter\n    // position: 'top''right'\n    //           'inside'|'left'|'right'|'top'|'bottom'\n    // TEXTSTYLE\n    // },\n    itemStyle: {\n      opacity: 0.8 // color: \n\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true // progressive: null\n\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar Cartesian = require(\"./Cartesian\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// A helper function to calculate extent of axis.\nfunction getAxisExtentWithGap(axis) {\n  var extent = axis.getGlobalExtent();\n\n  if (axis.onBand) {\n    // Remove extra 1px to avoid line miter in clipped edge\n    var halfBandWidth = axis.getBandWidth() / 2 - 1;\n    var dir = extent[1] > extent[0] ? 1 : -1;\n    extent[0] += dir * halfBandWidth;\n    extent[1] -= dir * halfBandWidth;\n  }\n\n  return extent;\n}\n\nfunction Cartesian2D(name) {\n  Cartesian.call(this, name);\n}\n\nCartesian2D.prototype = {\n  constructor: Cartesian2D,\n  type: 'cartesian2d',\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/cartesian/Axis2D}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  },\n\n  /**\n   * If contain point\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, reserved, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(data[0]));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(data[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  clampData: function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]));\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]));\n    return out;\n  },\n\n  /**\n   * Get other axis\n   * @param {module:echarts/coord/cartesian/Axis2D} axis\n   */\n  getOtherAxis: function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  },\n\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   * @return {BoundingRect}\n   */\n  getArea: function () {\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]);\n    var y = Math.min(yExtent[0], yExtent[1]);\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n  }\n};\nzrUtil.inherits(Cartesian2D, Cartesian);\nvar _default = Cartesian2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Cartesian coordinate system\n * @module  echarts/coord/Cartesian\n *\n */\nfunction dimAxisMapper(dim) {\n  return this._axes[dim];\n}\n/**\n * @alias module:echarts/coord/Cartesian\n * @constructor\n */\n\n\nvar Cartesian = function (name) {\n  this._axes = {};\n  this._dimList = [];\n  /**\n   * @type {string}\n   */\n\n  this.name = name || '';\n};\n\nCartesian.prototype = {\n  constructor: Cartesian,\n  type: 'cartesian',\n\n  /**\n   * Get axis\n   * @param  {number|string} dim\n   * @return {module:echarts/coord/Cartesian~Axis}\n   */\n  getAxis: function (dim) {\n    return this._axes[dim];\n  },\n\n  /**\n   * Get axes list\n   * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n   */\n  getAxes: function () {\n    return zrUtil.map(this._dimList, dimAxisMapper, this);\n  },\n\n  /**\n   * Get axes list by given scale type\n   */\n  getAxesByScale: function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  },\n\n  /**\n   * Add axis\n   * @param {module:echarts/coord/Cartesian.Axis}\n   */\n  addAxis: function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n\n    this._dimList.push(dim);\n  },\n\n  /**\n   * Convert data to coord in nd space\n   * @param {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  dataToCoord: function (val) {\n    return this._dataCoordConvert(val, 'dataToCoord');\n  },\n\n  /**\n   * Convert coord in nd space to data\n   * @param  {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  coordToData: function (val) {\n    return this._dataCoordConvert(val, 'coordToData');\n  },\n  _dataCoordConvert: function (input, method) {\n    var dimList = this._dimList;\n    var output = input instanceof Array ? [] : {};\n\n    for (var i = 0; i < dimList.length; i++) {\n      var dim = dimList[i];\n      var axis = this._axes[dim];\n      output[dim] = axis[method](input[dim]);\n    }\n\n    return output;\n  }\n};\nvar _default = Cartesian;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar Axis2D = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   */\n\n  this.position = position || 'bottom';\n};\n\nAxis2D.prototype = {\n  constructor: Axis2D,\n\n  /**\n   * Index of axis, can be used as key\n   */\n  index: 0,\n\n  /**\n   * Implemented in <module:echarts/coord/cartesian/Grid>.\n   * @return {Array.<module:echarts/coord/cartesian/Axis2D>}\n   *         If not on zero of other axis, return null/undefined.\n   *         If no axes, return an empty array.\n   */\n  getAxesOnZeroOf: null,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/cartesian/AxisModel}\n   */\n  model: null,\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n  getGlobalExtent: function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  },\n  getOtherAxis: function () {\n    this.grid.getOtherAxis();\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  },\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var localCoord = axis.toLocalCoord(80);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toLocalCoord: null,\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var globalCoord = axis.toLocalCoord(40);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toGlobalCoord: null\n};\nzrUtil.inherits(Axis2D, Axis);\nvar _default = Axis2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine']; // function getAlignWithLabel(model, axisModel) {\n//     var alignWithLabel = model.get('alignWithLabel');\n//     if (alignWithLabel === 'auto') {\n//         alignWithLabel = axisModel.get('axisTick.alignWithLabel');\n//     }\n//     return alignWithLabel;\n// }\n\nvar CartesianAxisView = AxisView.extend({\n  type: 'cartesianAxis',\n  axisPointerClass: 'CartesianAxisPointer',\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var gridModel = axisModel.getCoordSysModel();\n    var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get(name + '.show')) {\n        this['_' + name](axisModel, gridModel);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n  remove: function () {\n    this._splitAreaColors = null;\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = []; // Simple optimization\n    // Batching the lines if color are the same\n\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n      var tickValue = ticksCoords[i].tickValue;\n\n      this._axisGroup.add(new graphic.Line({\n        anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n        subPixelOptimize: true,\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: zrUtil.defaults({\n          stroke: lineColors[colorIndex]\n        }, lineStyle),\n        silent: true\n      }));\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitArea: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitAreaModel = axisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitAreaModel,\n      clamp: true\n    });\n\n    if (!ticksCoords.length) {\n      return;\n    } // For Making appropriate splitArea animation, the color and anid\n    // should be corresponding to previous one if possible.\n\n\n    var areaColorsLen = areaColors.length;\n    var lastSplitAreaColors = this._splitAreaColors;\n    var newSplitAreaColors = zrUtil.createHashMap();\n    var colorIndex = 0;\n\n    if (lastSplitAreaColors) {\n      for (var i = 0; i < ticksCoords.length; i++) {\n        var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n\n        if (cIndex != null) {\n          colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n          break;\n        }\n      }\n    }\n\n    var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n    var areaStyle = areaStyleModel.getAreaStyle();\n    areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\n\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (axis.isHorizontal()) {\n        x = prev;\n        y = gridRect.y;\n        width = tickCoord - x;\n        height = gridRect.height;\n        prev = x + width;\n      } else {\n        x = gridRect.x;\n        y = prev;\n        width = gridRect.width;\n        height = tickCoord - y;\n        prev = y + height;\n      }\n\n      var tickValue = ticksCoords[i - 1].tickValue;\n      tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n\n      this._axisGroup.add(new graphic.Rect({\n        anid: tickValue != null ? 'area_' + tickValue : null,\n        shape: {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        },\n        style: zrUtil.defaults({\n          fill: areaColors[colorIndex]\n        }, areaStyle),\n        silent: true\n      }));\n\n      colorIndex = (colorIndex + 1) % areaColorsLen;\n    }\n\n    this._splitAreaColors = newSplitAreaColors;\n  }\n});\nCartesianAxisView.extend({\n  type: 'xAxis'\n});\nCartesianAxisView.extend({\n  type: 'yAxis'\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"./Symbol\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n  this.group = new graphic.Group();\n  this._symbolCtor = symbolCtor || SymbolClz;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.updateData = function (data, opt) {\n  opt = normalizeUpdateOpt(opt);\n  var group = this.group;\n  var seriesModel = data.hostModel;\n  var oldData = this._data;\n  var SymbolCtor = this._symbolCtor;\n  var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldData) {\n    group.removeAll();\n  }\n\n  data.diff(oldData).add(function (newIdx) {\n    var point = data.getItemLayout(newIdx);\n\n    if (symbolNeedsDraw(data, point, newIdx, opt)) {\n      var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n      symbolEl.attr('position', point);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx);\n    var point = data.getItemLayout(newIdx);\n\n    if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new SymbolCtor(data, newIdx);\n      symbolEl.attr('position', point);\n    } else {\n      symbolEl.updateData(data, newIdx, seriesScope);\n      graphic.updateProps(symbolEl, {\n        position: point\n      }, seriesModel);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && el.fadeOut(function () {\n      group.remove(el);\n    });\n  }).execute();\n  this._data = data;\n};\n\nsymbolDrawProto.isPersistent = function () {\n  return true;\n};\n\nsymbolDrawProto.updateLayout = function () {\n  var data = this._data;\n\n  if (data) {\n    // Not use animation\n    data.eachItemGraphicEl(function (el, idx) {\n      var point = data.getItemLayout(idx);\n      el.attr('position', point);\n    });\n  }\n};\n\nsymbolDrawProto.incrementalPrepareUpdate = function (data) {\n  this._seriesScope = makeSeriesScope(data);\n  this._data = null;\n  this.group.removeAll();\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n  opt = normalizeUpdateOpt(opt);\n\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var point = data.getItemLayout(idx);\n\n    if (symbolNeedsDraw(data, point, idx, opt)) {\n      var el = new this._symbolCtor(data, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      el.attr('position', point);\n      this.group.add(el);\n      data.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nsymbolDrawProto.remove = function (enableAnimation) {\n  var group = this.group;\n  var data = this._data; // Incremental model do not have this._data.\n\n  if (data && enableAnimation) {\n    data.eachItemGraphicEl(function (el) {\n      el.fadeOut(function () {\n        group.remove(el);\n      });\n    });\n  } else {\n    group.removeAll();\n  }\n};\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  return {\n    itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n    hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n    symbolRotate: seriesModel.get('symbolRotate'),\n    symbolOffset: seriesModel.get('symbolOffset'),\n    hoverAnimation: seriesModel.get('hoverAnimation'),\n    labelModel: seriesModel.getModel('label'),\n    hoverLabelModel: seriesModel.getModel('emphasis.label'),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar _default = SymbolDraw;\nmodule.exports = _default;"],"sourceRoot":""}